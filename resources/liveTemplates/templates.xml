<templateSet group="TypeFormation">
    <template name="ts" value="Transform: AWS::Serverless-2016-10-31&#10;" description="transform serverless" toReformat="true" toShortenFQNames="true">
        <context>
            <option name="TYPEFORMATION" value="true" />
        </context>
    </template>
    <template name="fn" value="$NAME$:&#10;  Type: AWS::Serverless::Function&#10;  Properties:&#10;    CodeUri: ./$FILE$&#10;    Handler: $HANDLER$&#10;    Runtime: $RUNTIME$&#10;" description="serverless function" toReformat="false" toShortenFQNames="true">
        <variable name="NAME" expression="" defaultValue="&quot;Fn&quot;" alwaysStopAt="true" />
        <variable name="RUNTIME" expression="enum(&quot;python3.6&quot;,&quot;nodejs8.10&quot;,&quot;nodejs6.10&quot;,&quot;java8&quot;,&quot;nodejs4.3-edge&quot;,&quot;go1.x&quot;,&quot;nodejs&quot;,&quot;nodejs4.3&quot;,&quot;python2.7&quot;,&quot;dotnetcore1.0&quot;,&quot;dotnetcore2.0&quot;)" defaultValue="" alwaysStopAt="true" />
        <variable name="FILE" expression="" defaultValue="&quot;index.py&quot;" alwaysStopAt="true" />
        <variable name="HANDLER" expression="" defaultValue="&quot;index.handler&quot;" alwaysStopAt="true" />
        <context>
            <option name="TYPEFORMATION" value="true" />
        </context>
    </template>
    <template name="fnp" value="$NAME$:&#10;  Type: AWS::Serverless::Function&#10;  Properties:&#10;    CodeUri: ./$END$.py&#10;    Handler: index.handler&#10;    Runtime: $RUNTIME$&#10;" description="simple serverless python 3 function" toReformat="true" toShortenFQNames="true">
        <variable name="NAME" expression="" defaultValue="&quot;Fn&quot;" alwaysStopAt="true" />
        <variable name="RUNTIME" expression="enum(&quot;python3.6&quot;,&quot;nodejs8.10&quot;,&quot;nodejs6.10&quot;,&quot;java8&quot;,&quot;nodejs4.3-edge&quot;,&quot;go1.x&quot;,&quot;nodejs&quot;,&quot;nodejs4.3&quot;,&quot;python2.7&quot;,&quot;dotnetcore1.0&quot;,&quot;dotnetcore2.0&quot;)" defaultValue="" alwaysStopAt="true" />
        <context>
            <option name="TYPEFORMATION" value="true" />
        </context>
    </template>
    <template name="fn3" value="$RESOURCE$:&#10;  Type: AWS::Serverless::Function&#10;  Properties:&#10;    CodeUri: ./$FILE$&#10;    Handler: $HANDLER$&#10;    Runtime: $RUNTIME$&#10;    FunctionName: $FN_NAME$&#10;    Role: !Sub '${$ROLE$.Arn}'&#10;    MemorySize: $MEMORY$&#10;    Timeout: $TIMEOUT$&#10;    VpcConfig:&#10;      SecurityGroupIds: !Ref $GROUPS$&#10;      SubnetIds: !Ref $SUBNETS$&#10;    Description: $DESCRIPTION$&#10;    ReservedConcurrentExecutions: $CONCURRENT$" description="full serverless function" toReformat="true" toShortenFQNames="true">
        <variable name="RESOURCE" expression="" defaultValue="&quot;Fn&quot;" alwaysStopAt="true" />
        <variable name="RUNTIME" expression="" defaultValue="" alwaysStopAt="true" />
        <variable name="FILE" expression="" defaultValue="&quot;index.py&quot;" alwaysStopAt="true" />
        <variable name="HANDLER" expression="" defaultValue="&quot;index.handler&quot;" alwaysStopAt="true" />
        <variable name="FN_NAME" expression="" defaultValue="&quot;fn&quot;" alwaysStopAt="true" />
        <variable name="ROLE" expression="" defaultValue="&quot;Role&quot;" alwaysStopAt="true" />
        <variable name="MEMORY" expression="" defaultValue="&quot;128&quot;" alwaysStopAt="true" />
        <variable name="TIMEOUT" expression="" defaultValue="&quot;3&quot;" alwaysStopAt="true" />
        <variable name="GROUPS" expression="" defaultValue="&quot;SecurityGroupListParam&quot;" alwaysStopAt="true" />
        <variable name="SUBNETS" expression="" defaultValue="&quot;SubnetListParam&quot;" alwaysStopAt="true" />
        <variable name="DESCRIPTION" expression="" defaultValue="&quot;example description&quot;" alwaysStopAt="true" />
        <variable name="CONCURRENT" expression="" defaultValue="&quot;100&quot;" alwaysStopAt="true" />
        <context>
            <option name="TYPEFORMATION" value="true" />
        </context>
    </template>
    <template name="sub" value="!Sub '${$RESOURCE$}'" description="substitute" toReformat="false" toShortenFQNames="true">
        <variable name="RESOURCE" expression="" defaultValue="" alwaysStopAt="true" />
        <context>
            <option name="TYPEFORMATION" value="true" />
        </context>
    </template>
    <template name="fn1" value="$RESOURCE$:&#10;  Type: AWS::Serverless::Function&#10;  Properties:&#10;    CodeUri: ./$FILE$&#10;    Handler: $HANDLER$&#10;    Runtime: $RUNTIME$&#10;    MemorySize: $MEMORY$&#10;    Timeout: $TIMEOUT$" description="" toReformat="true" toShortenFQNames="true">
        <variable name="RESOURCE" expression="" defaultValue="&quot;Fn&quot;" alwaysStopAt="true" />
        <variable name="RUNTIME" expression="enum(&quot;python3.6&quot;,&quot;nodejs8.10&quot;,&quot;nodejs6.10&quot;,&quot;java8&quot;,&quot;nodejs4.3-edge&quot;,&quot;go1.x&quot;,&quot;nodejs&quot;,&quot;nodejs4.3&quot;,&quot;python2.7&quot;,&quot;dotnetcore1.0&quot;,&quot;dotnetcore2.0&quot;)" defaultValue="" alwaysStopAt="true" />
        <variable name="FILE" expression="" defaultValue="&quot;index.py&quot;" alwaysStopAt="true" />
        <variable name="HANDLER" expression="" defaultValue="&quot;index.handler&quot;" alwaysStopAt="true" />
        <variable name="MEMORY" expression="" defaultValue="&quot;128&quot;" alwaysStopAt="true" />
        <variable name="TIMEOUT" expression="" defaultValue="&quot;3&quot;" alwaysStopAt="true" />
        <context>
            <option name="TYPEFORMATION" value="true" />
        </context>
    </template>
    <template name="fn2" value="$RESOURCE$:&#10;  Type: AWS::Serverless::Function&#10;  Properties:&#10;    CodeUri: ./$FILE$&#10;    Handler: $HANDLER$&#10;    Runtime: $RUNTIME$&#10;    FunctionName: $FN_NAME$&#10;    MemorySize: $MEMORY$&#10;    Timeout: $TIMEOUT$&#10;    ReservedConcurrentExecutions: $CONCURRENT$" description="" toReformat="true" toShortenFQNames="true">
        <variable name="RESOURCE" expression="" defaultValue="&quot;Fn&quot;" alwaysStopAt="true" />
        <variable name="RUNTIME" expression="enum(&quot;python3.6&quot;,&quot;nodejs8.10&quot;,&quot;nodejs6.10&quot;,&quot;java8&quot;,&quot;nodejs4.3-edge&quot;,&quot;go1.x&quot;,&quot;nodejs&quot;,&quot;nodejs4.3&quot;,&quot;python2.7&quot;,&quot;dotnetcore1.0&quot;,&quot;dotnetcore2.0&quot;)" defaultValue="" alwaysStopAt="true" />
        <variable name="FILE" expression="" defaultValue="&quot;index.py&quot;" alwaysStopAt="true" />
        <variable name="HANDLER" expression="" defaultValue="&quot;index.handler&quot;" alwaysStopAt="true" />
        <variable name="FN_NAME" expression="" defaultValue="&quot;fn&quot;" alwaysStopAt="true" />
        <variable name="MEMORY" expression="" defaultValue="&quot;128&quot;" alwaysStopAt="true" />
        <variable name="TIMEOUT" expression="" defaultValue="&quot;3&quot;" alwaysStopAt="true" />
        <variable name="CONCURRENT" expression="" defaultValue="&quot;100&quot;" alwaysStopAt="true" />
        <context>
            <option name="TYPEFORMATION" value="true" />
        </context>
    </template>
    <template name="fnr" value="$ROLE$:&#10;  Type: AWS::IAM::Role&#10;  Properties:&#10;    AssumeRolePolicyDocument:&#10;      Statement:&#10;      - Action: sts:AssumeRole&#10;        Effect: Allow&#10;        Principal:&#10;          Service: lambda.amazonaws.com&#10;    ManagedPolicyArns: ['arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole']&#10;    Policies:&#10;    - PolicyName: $POLICY_NAME$&#10;      PolicyDocument:&#10;        Version: 2012-10-17&#10;        Statement:&#10;        - Effect: Allow&#10;          Action: ['$ACTIONS$']&#10;          Resource: !Sub '$END$${$RESOURCE$}'&#10;" description="function role" toReformat="false" toShortenFQNames="true">
        <variable name="ROLE" expression="" defaultValue="&quot;Role&quot;" alwaysStopAt="true" />
        <variable name="POLICY_NAME" expression="lowercaseAndDash(ROLE)" defaultValue="" alwaysStopAt="false" />
        <variable name="ACTIONS" expression="" defaultValue="&quot;*&quot;" alwaysStopAt="true" />
        <variable name="RESOURCE" expression="" defaultValue="" alwaysStopAt="true" />
        <context>
            <option name="TYPEFORMATION" value="true" />
        </context>
    </template>
    <template name="P" value="Parameters:&#10;  $END$" description="start parameters section" toReformat="false" toShortenFQNames="true">
        <context>
            <option name="TYPEFORMATION" value="true" />
        </context>
    </template>
    <template name="ps" value="$NAME$:&#10;  Type: String&#10;  $END$" description="string parameter" toReformat="false" toShortenFQNames="true">
        <variable name="NAME" expression="" defaultValue="" alwaysStopAt="true" />
        <context>
            <option name="TYPEFORMATION" value="true" />
        </context>
    </template>
    <template name="p2" value="$NAME$:&#10;  Type: $TYPE$&#10;  AllowedValues: $VALUES$&#10;  Default: $DEFAULT$&#10;  Description: $DESCRIPTION$&#10;  $END$" description="parameter with allowed values" toReformat="true" toShortenFQNames="true">
        <variable name="NAME" expression="" defaultValue="&quot;Param&quot;" alwaysStopAt="true" />
        <variable name="TYPE" expression="enum(&quot;String&quot;, &quot;Number&quot;, &quot;List&lt;Number&gt;&quot;, &quot;CommaDelimitedList&quot;)" defaultValue="" alwaysStopAt="true" />
        <variable name="VALUES" expression="" defaultValue="" alwaysStopAt="true" />
        <variable name="DEFAULT" expression="" defaultValue="" alwaysStopAt="true" />
        <variable name="DESCRIPTION" expression="" defaultValue="&quot;|&quot;" alwaysStopAt="true" />
        <context>
            <option name="TYPEFORMATION" value="true" />
        </context>
    </template>
    <template name="p1" value="$NAME$:&#10;  Type: $TYPE$&#10;  Default: $DEFAULT$&#10;  Description: $DESCRIPTION$&#10;  $END$" description="basic parameter" toReformat="false" toShortenFQNames="true">
        <variable name="NAME" expression="" defaultValue="&quot;Param&quot;" alwaysStopAt="true" />
        <variable name="TYPE" expression="enum(&quot;String&quot;, &quot;Number&quot;, &quot;List&lt;Number&gt;&quot;, &quot;CommaDelimitedList&quot;)" defaultValue="" alwaysStopAt="true" />
        <variable name="DEFAULT" expression="" defaultValue="" alwaysStopAt="true" />
        <variable name="DESCRIPTION" expression="" defaultValue="&quot;|&quot;" alwaysStopAt="true" />
        <context>
            <option name="TYPEFORMATION" value="true" />
        </context>
    </template>
    <template name="v" value="AWSTemplateFormatVersion: '2010-09-09'&#10;$END$" description="template version" toReformat="false" toShortenFQNames="true">
        <context>
            <option name="TYPEFORMATION" value="true" />
        </context>
    </template>
    <template name="O" value="Outputs:&#10;  $END$" description="start outputs section" toReformat="false" toShortenFQNames="true">
        <context>
            <option name="TYPEFORMATION" value="true" />
        </context>
    </template>
    <template name="o2" value="$NAME$:&#10;  Value: !Ref $VALUE$&#10;  Export:&#10;    Name: $NAME$&#10;    Description: $DESC$&#10;  $END$" description="exported output" toReformat="false" toShortenFQNames="true">
        <variable name="NAME" expression="" defaultValue="" alwaysStopAt="true" />
        <variable name="VALUE" expression="" defaultValue="" alwaysStopAt="true" />
        <variable name="DESC" expression="" defaultValue="" alwaysStopAt="true" />
        <context>
            <option name="TYPEFORMATION" value="true" />
        </context>
    </template>
    <template name="o1" value="$NAME$:&#10;  Value: !Ref $VALUE$&#10;  $END$" description="output" toReformat="false" toShortenFQNames="true">
        <variable name="NAME" expression="" defaultValue="" alwaysStopAt="true" />
        <variable name="VALUE" expression="" defaultValue="NAME" alwaysStopAt="true" />
        <context>
            <option name="TYPEFORMATION" value="true" />
        </context>
    </template>
    <template name="M" value="Mappings:&#10;  $END$" description="start mappings section" toReformat="false" toShortenFQNames="true">
        <context>
            <option name="TYPEFORMATION" value="true" />
        </context>
    </template>
    <template name="m" value="$NAME$:&#10;  $ONE$:&#10;    $KEY$: '$VALUE$'$END$" description="mapping" toReformat="false" toShortenFQNames="true">
        <variable name="NAME" expression="" defaultValue="" alwaysStopAt="true" />
        <variable name="ONE" expression="" defaultValue="" alwaysStopAt="true" />
        <variable name="KEY" expression="" defaultValue="" alwaysStopAt="true" />
        <variable name="VALUE" expression="" defaultValue="" alwaysStopAt="true" />
        <context>
            <option name="TYPEFORMATION" value="true" />
        </context>
    </template>
    <template name="R" value="Resources:&#10;  $END$" description="start resources section" toReformat="false" toShortenFQNames="true">
        <context>
            <option name="TYPEFORMATION" value="true" />
        </context>
    </template>
    <template name="d" value="Description: '$DESC$'&#10;$END$" description="Description" toReformat="false" toShortenFQNames="true">
        <variable name="DESC" expression="" defaultValue="" alwaysStopAt="true" />
        <context>
            <option name="TYPEFORMATION" value="true" />
        </context>
    </template>
    <template name="sesch" value="Schedule:&#10;  Type: Schedule&#10;  Properties:&#10;    Schedule: rate($COUNT$ $PERIOD$)&#10;    Input: !Sub '{&quot;$KEY$&quot;: &quot;${$VALUE$}&quot;}'" description="serverless event schedule" toReformat="true" toShortenFQNames="true">
        <variable name="COUNT" expression="" defaultValue="&quot;1&quot;" alwaysStopAt="true" />
        <variable name="PERIOD" expression="enum(&quot;minute&quot;, &quot;minutes&quot;, &quot;hour&quot;, &quot;hours&quot;, &quot;day&quot;, &quot;days&quot;)" defaultValue="" alwaysStopAt="true" />
        <variable name="KEY" expression="" defaultValue="&quot;key&quot;" alwaysStopAt="true" />
        <variable name="VALUE" expression="" defaultValue="&quot;val&quot;" alwaysStopAt="true" />
        <context>
            <option name="TYPEFORMATION" value="true" />
        </context>
    </template>
    <template name="fni" value="InvokePermission:&#10;  Type: AWS::Lambda::Permission&#10;  Properties:&#10;    FunctionName: !Ref $FN$&#10;    Action: 'lambda:InvokeFunction'&#10;    Principal: $PRINCIPAL$.amazonaws.com&#10;    SourceAccount: $ACCOUNT$&#10;    SourceArn: !Sub 'arn:aws:$SERVICE$:::$RESOURCE$'&#10;  $END$" description="an invoke permission on a function" toReformat="true" toShortenFQNames="true">
        <variable name="FN" expression="" defaultValue="&quot;Fn&quot;" alwaysStopAt="true" />
        <variable name="PRINCIPAL" expression="enum(&quot;acm&quot;,&quot;apigateway&quot;,&quot;athena&quot;,&quot;autoscaling&quot;,&quot;clouddirectory&quot;,&quot;cloudformation&quot;,&quot;cloudfront&quot;,&quot;cloudsearch&quot;,&quot;cloudtrail&quot;,&quot;codecommit&quot;,&quot;codedeploy&quot;,&quot;codepipeline&quot;,&quot;config&quot;,&quot;datapipeline&quot;,&quot;directconnect&quot;,&quot;ds&quot;,&quot;dynamodb&quot;,&quot;ec2&quot;,&quot;ecr&quot;,&quot;ecs&quot;,&quot;edgelambda&quot;,&quot;elasticache&quot;,&quot;elasticbeanstalk&quot;,&quot;elasticfilesystem&quot;,&quot;elasticloadbalancing&quot;,&quot;elasticmapreduce&quot;,&quot;events&quot;,&quot;health&quot;,&quot;iam&quot;,&quot;inspector&quot;,&quot;kinesis&quot;,&quot;kms&quot;,&quot;lambda&quot;,&quot;lightsail&quot;,&quot;logs&quot;,&quot;monitoring&quot;,&quot;opsworks&quot;,&quot;organizations&quot;,&quot;rds&quot;,&quot;redshift&quot;,&quot;route53&quot;,&quot;s3&quot;,&quot;servicecatalog&quot;,&quot;ses&quot;,&quot;signin&quot;,&quot;sns&quot;,&quot;sqs&quot;,&quot;ssm&quot;,&quot;storagegateway&quot;,&quot;sts&quot;,&quot;support&quot;,&quot;vmie&quot;,&quot;waf&quot;,&quot;workdocs&quot;,&quot;workspaces&quot;)" defaultValue="" alwaysStopAt="true" />
        <variable name="ACCOUNT" expression="" defaultValue="&quot;!Ref 'AWS::AccountId'&quot;" alwaysStopAt="true" />
        <variable name="SERVICE" expression="" defaultValue="&quot;s3&quot;" alwaysStopAt="true" />
        <variable name="RESOURCE" expression="" defaultValue="" alwaysStopAt="true" />
        <context>
            <option name="TYPEFORMATION" value="true" />
        </context>
    </template>
    <template name="acm" value="$NAME$:&#10;  Type: AWS::CertificateManager::Certificate&#10;  Properties:&#10;    DomainName: !Ref $DOMAIN$&#10;$END$" description="basic ACM configuration" toReformat="true" toShortenFQNames="true">
        <variable name="NAME" expression="" defaultValue="&quot;SSLCertificate&quot;" alwaysStopAt="true" />
        <variable name="DOMAIN" expression="" defaultValue="&quot;Param&quot;" alwaysStopAt="true" />
        <context>
            <option name="TYPEFORMATION" value="true" />
        </context>
    </template>
    <template name="acmf" value="SslCert:&#10;  Type: AWS::CertificateManager::Certificate&#10;  Properties:&#10;    DomainName: !Ref Domain&#10;    SubjectAlternativeNames: !Ref AlternativeDomains&#10;    DomainValidationOptions:&#10;    - DomainName: $V_N$&#10;      ValidationDomain: $V_D$&#10;    Tags:&#10;    - Key: $TAG_K$&#10;      Value: $TAG_V$" description="ACM with more options" toReformat="true" toShortenFQNames="true">
        <variable name="V_N" expression="" defaultValue="&quot;!Sub hello.${Domain}&quot;" alwaysStopAt="true" />
        <variable name="V_D" expression="" defaultValue="&quot;example.com&quot;" alwaysStopAt="true" />
        <variable name="TAG_K" expression="" defaultValue="&quot;key&quot;" alwaysStopAt="true" />
        <variable name="TAG_V" expression="" defaultValue="&quot;value&quot;" alwaysStopAt="true" />
        <context>
            <option name="TYPEFORMATION" value="true" />
        </context>
    </template>
    <template name="ago" value="$API$:&#10;  Description: Endpoint of the $API$ API&#10;  Value: !Sub 'https://${$START$}.execute-api.${AWS::Region}.amazonaws.com/$STAGE$'&#10;$END$" description="api gateway output" toReformat="true" toShortenFQNames="true">
        <variable name="API" expression="" defaultValue="&quot;ApiInvokeUrl&quot;" alwaysStopAt="true" />
        <variable name="START" expression="" defaultValue="&quot;prefix&quot;" alwaysStopAt="true" />
        <variable name="STAGE" expression="" defaultValue="&quot;prod&quot;" alwaysStopAt="true" />
        <context>
            <option name="TYPEFORMATION" value="true" />
        </context>
    </template>
    <template name="cbf" value="$NAME$Project:&#10;  Type: AWS::CodeBuild::Project&#10;  Properties:&#10;    Artifacts:&#10;      Type: $ARTEFACT$&#10;    Description: '$DESC$'&#10;    Environment:&#10;      ComputeType: BUILD_GENERAL1_$SIZE$&#10;      Image: 'aws/codebuild/$IMAGE$'&#10;      Type: LINUX_CONTAINER&#10;      #EnvironmentVariables:&#10;      #- Name: KEY&#10;        #Value: VALUE&#10;    Name: '$ENV_NAME$'&#10;    ServiceRole: !Sub '${$ROLE_NAME$ServiceRole.Arn}'&#10;    Source:&#10;      Type: $SOURCE$&#10;    TimeoutInMinutes: $TIMEOUT$" description="codebuild project with AWS-managed images" toReformat="true" toShortenFQNames="true">
        <variable name="NAME" expression="" defaultValue="&quot;Build&quot;" alwaysStopAt="true" />
        <variable name="ARTEFACT" expression="" defaultValue="&quot;CODEPIPELINE&quot;" alwaysStopAt="true" />
        <variable name="DESC" expression="concat(&quot;Builds &quot;, NAME, &quot; project&quot;)" defaultValue="" alwaysStopAt="true" />
        <variable name="SIZE" expression="enum(&quot;SMALL&quot;, &quot;MEDIUM&quot;, &quot;LARGE&quot;)" defaultValue="" alwaysStopAt="true" />
        <variable name="IMAGE" expression="enum(&quot;docker:17.09.0&quot;, &quot;ubuntu-base:14.04&quot;, &quot;android-java-8:24.4.1&quot;,&quot;golang:1.10&quot;,&quot;java:openjdk-8&quot;,&quot;java:openjdk-9&quot;,&quot;nodejs:6.3.1&quot;,&quot;php:7.0&quot;,&quot;python:3.5.2&quot;,&quot;dot-net:core-2.0&quot;)" defaultValue="" alwaysStopAt="true" />
        <variable name="ENV_NAME" expression="" defaultValue="NAME" alwaysStopAt="true" />
        <variable name="ROLE_NAME" expression="" defaultValue="NAME" alwaysStopAt="true" />
        <variable name="SOURCE" expression="" defaultValue="ARTEFACT" alwaysStopAt="true" />
        <variable name="TIMEOUT" expression="" defaultValue="&quot;30&quot;" alwaysStopAt="true" />
        <context>
            <option name="TYPEFORMATION" value="true" />
        </context>
    </template>
    <template name="cc" value="$NAME$Repo:&#10;  Type: AWS::CodeCommit::Repository&#10;  Properties:&#10;    RepositoryName: '$R_NAME$'&#10;    RepositoryDescription: '$DESC$'" description="Code commit repo" toReformat="true" toShortenFQNames="true">
        <variable name="NAME" expression="" defaultValue="&quot;Project&quot;" alwaysStopAt="true" />
        <variable name="R_NAME" expression="" defaultValue="NAME" alwaysStopAt="true" />
        <variable name="DESC" expression="concat(&quot;Git repo for the &quot;, NAME, &quot; project)" defaultValue="" alwaysStopAt="true" />
        <context>
            <option name="TYPEFORMATION" value="true" />
        </context>
    </template>
    <template name="cfrw" value="$NAME$:&#10;  Type: AWS::CloudFront::Distribution&#10;  Properties:&#10;    DistributionConfig:&#10;      Enabled: true&#10;      Aliases: [!Ref $DOMAIN$]&#10;      ViewerCertificate:&#10;        AcmCertificateArn: !Ref $CERT$&#10;        SslSupportMethod: 'sni-only'&#10;      Origins:&#10;      -&#10;        Id: '$ORIGIN_ID$'&#10;        DomainName: !Sub '${$BUCKET$}.s3-website-${AWS::Region}.amazonaws.com'&#10;        CustomOriginConfig:&#10;          OriginProtocolPolicy: 'http-only'&#10;      DefaultCacheBehavior:&#10;        ViewerProtocolPolicy: 'redirect-to-https'&#10;        ForwardedValues:&#10;          QueryString: true&#10;          Cookies:&#10;            Forward: none&#10;        TargetOriginId: '$ORIGIN_ID$'&#10;        MinTTL: $MIN_TTL$&#10;        DefaultTTL: $DEFAULT_TTL$&#10;        Compress: true&#10;$END$" description="cloudfront distribution for an s3-backed website" toReformat="true" toShortenFQNames="true">
        <variable name="NAME" expression="" defaultValue="&quot;CDN&quot;" alwaysStopAt="true" />
        <variable name="DOMAIN" expression="" defaultValue="&quot;Domain&quot;" alwaysStopAt="true" />
        <variable name="CERT" expression="" defaultValue="&quot;SSLCertificate&quot;" alwaysStopAt="true" />
        <variable name="ORIGIN_ID" expression="" defaultValue="&quot;main&quot;" alwaysStopAt="true" />
        <variable name="BUCKET" expression="" defaultValue="&quot;Bucket&quot;" alwaysStopAt="true" />
        <variable name="MIN_TTL" expression="" defaultValue="&quot;31536000 # seconds in 1 year&quot;" alwaysStopAt="true" />
        <variable name="DEFAULT_TTL" expression="" defaultValue="&quot;31536000&quot;" alwaysStopAt="true" />
        <context>
            <option name="TYPEFORMATION" value="true" />
        </context>
    </template>
    <template name="cwaf" value="$FN$:&#10;  Type: AWS::Lambda::Function&#10;  Properties:&#10;    Handler: $HANDLER$&#10;    Runtime: $RUNTIME$&#10;    Role: !Sub '${$ROLE$.Arn}'&#10;    Code:&#10;      ZipFile: |&#10;        import json&#10;&#10;&#10;        def handler(event, context):&#10;            for record in event['Records']:&#10;                message = json.loads(record['Sns']['Message'])&#10;&#10;                alarm_name = message['AlarmName']&#10;                alarm_description = message['AlarmDescription']&#10;                account_id = message['AWSAccountId']&#10;                new_state = message['NewStateValue']&#10;                new_state_reason = message['NewStateReason']&#10;                state_timestamp = message['StateChangeTime']&#10;                region = message['Region']&#10;                old_state = message['OldStateValue']&#10;                print(&#10;                    'alarm_name: &quot;{}&quot; alarm_description: &quot;{}&quot; account_id: &quot;{}&quot; old_state: &quot;{}&quot; new_state: &quot;{}&quot; new_state_reason: &quot;{}&quot; state_timestamp: &quot;{}&quot; region: &quot;{}&quot;'.format(&#10;                          alarm_name, alarm_description, account_id, old_state, new_state, new_state_reason, state_timestamp,&#10;                          region))&#10;&#10;$ROLE$:&#10;  Type: AWS::IAM::Role&#10;  Properties:&#10;    AssumeRolePolicyDocument:&#10;      Statement:&#10;      - Action: 'sts:AssumeRole'&#10;        Effect: Allow&#10;        Principal:&#10;          Service: [lambda.amazonaws.com]&#10;    ManagedPolicyArns: ['arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole']&#10;&#10;Permission:&#10;  Type: AWS::Lambda::Permission&#10;  Properties:&#10;    FunctionName: !Ref $FN$&#10;    Action: 'lambda:InvokeFunction'&#10;    Principal: sns.amazonaws.com&#10;&#10;$NOTIF$:&#10;  Type: AWS::SNS::Topic&#10;  Properties:&#10;    Subscription:&#10;    - Endpoint: !Sub '${$FN$.Arn}'&#10;      Protocol: lambda&#10;&#10;Alarm:&#10;  Type: AWS::CloudWatch::Alarm&#10;  Properties:&#10;    OKActions: [!Ref $NOTIF$]&#10;    InsufficientDataActions: [!Ref $NOTIF$]&#10;    AlarmActions: [!Ref $NOTIF$]&#10;    # rest of properties, e.g: ComparisonOperator, Threshold, EvaluationPeriods, Period, MetricName, Namespace" description="a lambda-customised cloudwatch alarm" toReformat="false" toShortenFQNames="true">
        <variable name="FN" expression="" defaultValue="&quot;AlarmProcessorFn&quot;" alwaysStopAt="true" />
        <variable name="RUNTIME" expression="enum(&quot;python3.6&quot;,&quot;nodejs8.10&quot;,&quot;nodejs6.10&quot;,&quot;java8&quot;,&quot;nodejs4.3-edge&quot;,&quot;go1.x&quot;,&quot;nodejs&quot;,&quot;nodejs4.3&quot;,&quot;python2.7&quot;,&quot;dotnetcore1.0&quot;,&quot;dotnetcore2.0&quot;)" defaultValue="" alwaysStopAt="true" />
        <variable name="HANDLER" expression="" defaultValue="&quot;index.handler&quot;" alwaysStopAt="true" />
        <variable name="ROLE" expression="" defaultValue="&quot;Role&quot;" alwaysStopAt="true" />
        <variable name="NOTIF" expression="" defaultValue="&quot;LambdaNotification&quot;" alwaysStopAt="true" />
        <context>
            <option name="TYPEFORMATION" value="true" />
        </context>
    </template>
    <template name="cwee" value="$NAME$:&#10;  Type: AWS::Events::Rule&#10;  Properties:&#10;    Description: $DESC$&#10;    Name: $NAME$&#10;    ScheduleExpression: !Join ['', [!Sub 'rate($NUMBER$ $SCHEDULE_RATE$', !If [Plural, 's', ''], ')']]&#10;    State: 'ENABLED'&#10;    Targets:&#10;    -&#10;      Id: '$TARGET$-task-definition'&#10;      RoleArn: !Sub '${$ROLE$.Arn}'&#10;      EcsParameters:&#10;        TaskDefinitionArn: !Ref $TASK_DEF$&#10;      Arn: !Sub 'arn:aws:ecs:${AWS::Region}:${AWS::AccountId}:cluster/$CLUSTER$'&#10;$END$" description="cloudwatch event for ecs task" toReformat="true" toShortenFQNames="true">
        <variable name="NAME" expression="" defaultValue="&quot;Schedule&quot;" alwaysStopAt="true" />
        <variable name="DESC" expression="" defaultValue="" alwaysStopAt="true" />
        <variable name="NUMBER" expression="" defaultValue="&quot;1&quot;" alwaysStopAt="true" />
        <variable name="SCHEDULE_RATE" expression="" defaultValue="&quot;day&quot;" alwaysStopAt="true" />
        <variable name="TASK_DEF" expression="" defaultValue="" alwaysStopAt="true" />
        <variable name="TARGET" expression="lowercaseAndDash(TASK_DEF)" defaultValue="" alwaysStopAt="true" />
        <variable name="ROLE" expression="" defaultValue="&quot;Role&quot;" alwaysStopAt="true" />
        <variable name="CLUSTER" expression="" defaultValue="&quot;ClusterName&quot;" alwaysStopAt="true" />
        <context>
            <option name="TYPEFORMATION" value="true" />
        </context>
    </template>
    <template name="cwet" value="$NAME$:&#10;  Type: AWS::Events::Rule&#10;  Properties:&#10;    Name: '$ID$-event-rule'&#10;    EventPattern:&#10;      source: ['aws.$SOURCE$']&#10;      detail-type: ['AWS API Call via CloudTrail']&#10;      detail:&#10;        eventSource: ['$SOURCE$.amazonaws.com']&#10;        eventName: ['$EVENTS$']&#10;      State: 'ENABLED'&#10;      Targets:&#10;      -&#10;        Id: '$ID$-target'&#10;        Arn: !Sub '${$FN$.Arn}'&#10;$END$" description="cloudwatch event from cloudtrail" toReformat="true" toShortenFQNames="true">
        <variable name="NAME" expression="" defaultValue="&quot;Rule&quot;" alwaysStopAt="true" />
        <variable name="SOURCE" expression="" defaultValue="&quot;s3&quot;" alwaysStopAt="true" />
        <variable name="EVENTS" expression="" defaultValue="&quot;*&quot;" alwaysStopAt="true" />
        <variable name="ID" expression="lowercaseAndDash(NAME)" defaultValue="" alwaysStopAt="true" />
        <variable name="FN" expression="" defaultValue="&quot;Fn&quot;" alwaysStopAt="true" />
        <context>
            <option name="TYPEFORMATION" value="true" />
        </context>
    </template>
    <template name="dy" value="$NAME$:&#10;  Type: AWS::DynamoDB::Table&#10;  Properties:&#10;    ProvisionedThroughput:&#10;      ReadCapacityUnits: $READ$&#10;      WriteCapacityUnits: $WRITE$&#10;    KeySchema:&#10;    - AttributeName: $KEY$&#10;      KeyType: $KEY_TYPE$&#10;    AttributeDefinitions:&#10;    -  AttributeName: $KEY$&#10;       AttributeType: $ATTR_TYPE$&#10;$END$" description="dynamodb table" toReformat="true" toShortenFQNames="true">
        <variable name="NAME" expression="" defaultValue="&quot;Table&quot;" alwaysStopAt="true" />
        <variable name="READ" expression="" defaultValue="&quot;5&quot;" alwaysStopAt="true" />
        <variable name="WRITE" expression="" defaultValue="&quot;5&quot;" alwaysStopAt="true" />
        <variable name="KEY" expression="" defaultValue="" alwaysStopAt="true" />
        <variable name="KEY_TYPE" expression="" defaultValue="&quot;HASH&quot;" alwaysStopAt="true" />
        <variable name="ATTR_TYPE" expression="" defaultValue="&quot;S&quot;" alwaysStopAt="true" />
        <context>
            <option name="TYPEFORMATION" value="true" />
        </context>
    </template>
    <template name="iamu" value="$NAME$User:&#10;  Type: AWS::IAM::User&#10;  Properties:&#10;    UserName: $USERNAME$&#10;    ManagedPolicyArns: ['$ARN$']&#10;$END$" description="iam user" toReformat="true" toShortenFQNames="true">
        <variable name="NAME" expression="" defaultValue="" alwaysStopAt="true" />
        <variable name="USERNAME" expression="" defaultValue="NAME" alwaysStopAt="true" />
        <variable name="ARN" expression="" defaultValue="" alwaysStopAt="true" />
        <context>
            <option name="TYPEFORMATION" value="true" />
        </context>
    </template>
    <template name="l1" value="$NAME$:&#10;  Type: AWS::Logs::LogGroup&#10;  Properties:&#10;    RetentionInDays: $DAYS$&#10;    LogGroupName: $LNAME$&#10;$END$" description="cloudwatch log group with retention and name" toReformat="true" toShortenFQNames="true">
        <variable name="NAME" expression="" defaultValue="&quot;Log&quot;" alwaysStopAt="true" />
        <variable name="DAYS" expression="" defaultValue="&quot;30&quot;" alwaysStopAt="true" />
        <variable name="LNAME" expression="lowercaseAndDash(NAME)" defaultValue="" alwaysStopAt="true" />
        <context>
            <option name="TYPEFORMATION" value="true" />
        </context>
    </template>
    <template name="l" value="$NAME$:&#10;  Type: AWS::Logs::LogGroup&#10;$END$" description="basic cloudwatch log group" toReformat="true" toShortenFQNames="true">
        <variable name="NAME" expression="" defaultValue="&quot;Log&quot;" alwaysStopAt="true" />
        <context>
            <option name="TYPEFORMATION" value="true" />
        </context>
    </template>
    <template name="lm" value="$NAME$:&#10;  Type: AWS::Logs::MetricFilter&#10;  Properties:&#10;    LogGroupName: $LOG$&#10;    FilterPattern: '$PATTERN$'&#10;    MetricTransformations:&#10;    - MetricName: $M_NAME$&#10;      MetricNamespace: $M_NAMESPACE$&#10;      MetricValue: $M_VALUE$&#10;$END$" description="log metric filter" toReformat="true" toShortenFQNames="true">
        <variable name="NAME" expression="" defaultValue="&quot;Filter&quot;" alwaysStopAt="true" />
        <variable name="LOG" expression="" defaultValue="" alwaysStopAt="true" />
        <variable name="PATTERN" expression="" defaultValue="" alwaysStopAt="true" />
        <variable name="M_NAME" expression="" defaultValue="" alwaysStopAt="true" />
        <variable name="M_NAMESPACE" expression="" defaultValue="" alwaysStopAt="true" />
        <variable name="M_VALUE" expression="" defaultValue="" alwaysStopAt="true" />
        <context>
            <option name="TYPEFORMATION" value="true" />
        </context>
    </template>
    <template name="lmf" value="$NAME$:&#10;  Type: AWS::Logs::MetricFilter&#10;  Properties:&#10;    LogGroupName: !Sub '/aws/lambda/${$FN$}'&#10;    FilterPattern: '[$PATTERN$]'&#10;    MetricTransformations:&#10;    - MetricName: $M_NAME$&#10;      MetricNamespace: $M_NAMESPACE$&#10;      MetricValue: $M_VALUE$&#10;$END$" description="metric filter for lambda function" toReformat="true" toShortenFQNames="true">
        <variable name="NAME" expression="" defaultValue="&quot;Filter&quot;" alwaysStopAt="true" />
        <variable name="FN" expression="" defaultValue="&quot;Fn&quot;" alwaysStopAt="true" />
        <variable name="PATTERN" expression="" defaultValue="&quot;type=REPORT, ..., max_memory_used_mb, mb&quot;" alwaysStopAt="true" />
        <variable name="M_NAME" expression="" defaultValue="&quot;MaxMemoryUsed&quot;" alwaysStopAt="true" />
        <variable name="M_NAMESPACE" expression="" defaultValue="&quot;Custom/Lambda&quot;" alwaysStopAt="true" />
        <variable name="M_VALUE" expression="" defaultValue="&quot;$max_memory_used_mb&quot;" alwaysStopAt="true" />
        <context>
            <option name="TYPEFORMATION" value="true" />
        </context>
    </template>
    <template name="r" value="$NAME$:&#10;  Type: AWS::IAM::Role&#10;  Properties:&#10;    AssumeRolePolicyDocument:&#10;      Statement:&#10;      - Action: sts:AssumeRole&#10;        Effect: Allow&#10;        Principal:&#10;          Service: $SERVICE$.amazonaws.com&#10;    ManagedPolicyArns: ['$MANAGED_POLICIES$']&#10;    Policies:&#10;    - PolicyName: $POLICY_NAME$&#10;      PolicyDocument:&#10;        Version: 2012-10-17&#10;        Statement:&#10;        - Effect: Allow&#10;          Action: ['$ACTION$']&#10;          Resource: '$RESOURCE$'" description="" toReformat="true" toShortenFQNames="true">
        <variable name="NAME" expression="" defaultValue="&quot;Role&quot;" alwaysStopAt="true" />
        <variable name="SERVICE" expression="enum(&quot;acm&quot;,&quot;apigateway&quot;,&quot;athena&quot;,&quot;autoscaling&quot;,&quot;clouddirectory&quot;,&quot;cloudformation&quot;,&quot;cloudfront&quot;,&quot;cloudsearch&quot;,&quot;cloudtrail&quot;,&quot;codecommit&quot;,&quot;codedeploy&quot;,&quot;codepipeline&quot;,&quot;config&quot;,&quot;datapipeline&quot;,&quot;directconnect&quot;,&quot;ds&quot;,&quot;dynamodb&quot;,&quot;ec2&quot;,&quot;ecr&quot;,&quot;ecs&quot;,&quot;edgelambda&quot;,&quot;elasticache&quot;,&quot;elasticbeanstalk&quot;,&quot;elasticfilesystem&quot;,&quot;elasticloadbalancing&quot;,&quot;elasticmapreduce&quot;,&quot;events&quot;,&quot;health&quot;,&quot;iam&quot;,&quot;inspector&quot;,&quot;kinesis&quot;,&quot;kms&quot;,&quot;lambda&quot;,&quot;lightsail&quot;,&quot;logs&quot;,&quot;monitoring&quot;,&quot;opsworks&quot;,&quot;organizations&quot;,&quot;rds&quot;,&quot;redshift&quot;,&quot;route53&quot;,&quot;s3&quot;,&quot;servicecatalog&quot;,&quot;ses&quot;,&quot;signin&quot;,&quot;sns&quot;,&quot;sqs&quot;,&quot;ssm&quot;,&quot;storagegateway&quot;,&quot;sts&quot;,&quot;support&quot;,&quot;vmie&quot;,&quot;waf&quot;,&quot;workdocs&quot;,&quot;workspaces&quot;)" defaultValue="" alwaysStopAt="true" />
        <variable name="MANAGED_POLICIES" expression="" defaultValue="" alwaysStopAt="true" />
        <variable name="POLICY_NAME" expression="lowercaseAndDash(NAME)" defaultValue="" alwaysStopAt="true" />
        <variable name="ACTION" expression="" defaultValue="" alwaysStopAt="true" />
        <variable name="RESOURCE" expression="" defaultValue="&quot;*&quot;" alwaysStopAt="true" />
        <context>
            <option name="TYPEFORMATION" value="true" />
        </context>
    </template>
    <template name="s3" value="OurBucket:&#10;  Type: AWS::S3::Bucket&#10;  Properties:&#10;    BucketName: $NAME$" description="s3 bucket with name" toReformat="true" toShortenFQNames="true">
        <variable name="NAME" expression="" defaultValue="" alwaysStopAt="true" />
        <context>
            <option name="TYPEFORMATION" value="true" />
        </context>
    </template>
    <template name="s3bp" value="$NAME$BucketPolicy:&#10;  Type: AWS::S3::BucketPolicy&#10;  Properties:&#10;    Bucket: !Ref $B_NAME$&#10;    PolicyDocument:&#10;      Version: 2008-10-17&#10;      Statement:&#10;        -&#10;          Sid: $SID$&#10;          Effect: Allow&#10;          Principal:&#10;            AWS: $PRINCIPAL$$END$&#10;          Action: ['$ACTION$']&#10;          Resource: [!Sub 'arn:aws:s3:::${$RESOURCE$}/*']" description="s3 bucket policy" toReformat="true" toShortenFQNames="true">
        <variable name="NAME" expression="" defaultValue="" alwaysStopAt="true" />
        <variable name="B_NAME" expression="" defaultValue="NAME" alwaysStopAt="true" />
        <variable name="SID" expression="" defaultValue="NAME" alwaysStopAt="true" />
        <variable name="PRINCIPAL" expression="enum(&quot;'*'&quot;, &quot;!Sub '${.Arn}'&quot;)" defaultValue="" alwaysStopAt="true" />
        <variable name="ACTION" expression="" defaultValue="&quot;s3:GetObject&quot;" alwaysStopAt="true" />
        <variable name="RESOURCE" expression="" defaultValue="NAME" alwaysStopAt="true" />
        <context>
            <option name="TYPEFORMATION" value="true" />
        </context>
    </template>
    <template name="s3ef" value="-  Event: 's3:$EVENT$'&#10;   Function: !Sub '${$FN$.Arn}'&#10;   Filter:&#10;     S3Key:&#10;       Rules:&#10;       - Name: $NAME$&#10;         Value: $EXT$" description="s3 event that calls a lambda function" toReformat="true" toShortenFQNames="true">
        <variable name="EVENT" expression="enum(&quot;ObjectCreated:*&quot;,&quot;ObjectCreated:Put&quot;,&quot;ObjectCreated:Post&quot;,&quot;ObjectCreated:Copy&quot;,&quot;ObjectCreated:CompleteMultipartUpload&quot;,&quot;ObjectRemoved:*&quot;,&quot;ObjectRemoved:Delete&quot;,&quot;ObjectRemoved:DeleteMarkerCreated&quot;,&quot;ReducedRedundancyLostObject&quot;)" defaultValue="" alwaysStopAt="true" />
        <variable name="FN" expression="" defaultValue="&quot;Fn&quot;" alwaysStopAt="true" />
        <variable name="NAME" expression="" defaultValue="&quot;suffix&quot;" alwaysStopAt="true" />
        <variable name="EXT" expression="" defaultValue="&quot;.ext&quot;" alwaysStopAt="true" />
        <context>
            <option name="TYPEFORMATION" value="true" />
        </context>
    </template>
    <template name="s3l" value="$NAME$:&#10;  Type: AWS::S3::Bucket&#10;  Properties:&#10;    LifecycleConfiguration:&#10;      Rules:&#10;      - Prefix: $PREFIX$&#10;        ExpirationInDays: $EXP$&#10;        Status: Enabled&#10;$END$" description="s3 with lifecycle rule" toReformat="true" toShortenFQNames="true">
        <variable name="NAME" expression="" defaultValue="&quot;Bucket&quot;" alwaysStopAt="true" />
        <variable name="PREFIX" expression="" defaultValue="&quot;logs/&quot;" alwaysStopAt="true" />
        <variable name="EXP" expression="" defaultValue="&quot;30&quot;" alwaysStopAt="true" />
        <context>
            <option name="TYPEFORMATION" value="true" />
        </context>
    </template>
    <template name="snse" value="$NAME$:&#10;  Type: AWS::SNS::Topic&#10;  Properties:&#10;    Subscription:&#10;    - Endpoint: !Ref $EMAIL$&#10;      Protocol: email" description="SNS notification via email" toReformat="true" toShortenFQNames="true">
        <variable name="NAME" expression="" defaultValue="&quot;Topic&quot;" alwaysStopAt="true" />
        <variable name="EMAIL" expression="" defaultValue="&quot;Email&quot;" alwaysStopAt="true" />
        <context>
            <option name="TYPEFORMATION" value="true" />
        </context>
    </template>
    <template name="cwa" value="$NOTIF$:&#10;  Type: AWS::SNS::Topic&#10;  Properties:&#10;    Subscription:&#10;    - Endpoint: !Ref $ENDPOINT$&#10;      Protocol: $PROTOCOL$&#10;&#10;Alarm:&#10;  Type: AWS::CloudWatch::Alarm&#10;  Properties:&#10;    OKActions: [!Ref $NOTIF$]&#10;    InsufficientDataActions: [!Ref $NOTIF$]&#10;    AlarmActions: [!Ref $NOTIF$]&#10;    # rest of properties, e.g: ComparisonOperator, Threshold, EvaluationPeriods, Period, MetricName, Namespace" description="a cloudwatch alarm" toReformat="false" toShortenFQNames="true">
        <variable name="NOTIF" expression="" defaultValue="&quot;Topic&quot;" alwaysStopAt="true" />
        <variable name="ENDPOINT" expression="" defaultValue="&quot;Endpoint&quot;" alwaysStopAt="true" />
        <variable name="PROTOCOL" expression="" defaultValue="&quot;email&quot;" alwaysStopAt="true" />
        <context>
            <option name="TYPEFORMATION" value="true" />
        </context>
    </template>
    <template name="asglc" value="$NAME$:&#10;  Type: AWS::AutoScaling::LaunchConfiguration&#10;  Properties:&#10;    ImageId: $IMG$&#10;    SecurityGroups: !Ref $SG$&#10;    InstanceType: $TYPE$&#10;    BlockDeviceMappings:&#10;    - DeviceName: '/dev/$EBS$'&#10;      Ebs:&#10;        VolumeSize: $SIZE$&#10;    - DeviceName: '/dev/$DEV$'&#10;      VirtualName: $VNAME$&#10;$END$" description="auto-scaling group launch configuration" toReformat="true" toShortenFQNames="true">
        <variable name="NAME" expression="" defaultValue="&quot;LaunchConfig&quot;" alwaysStopAt="true" />
        <variable name="IMG" expression="" defaultValue="&quot;ami-xxx&quot;" alwaysStopAt="true" />
        <variable name="SG" expression="" defaultValue="&quot;SecurityGroups&quot;" alwaysStopAt="true" />
        <variable name="TYPE" expression="" defaultValue="" alwaysStopAt="true" />
        <variable name="EBS" expression="" defaultValue="" alwaysStopAt="true" />
        <variable name="SIZE" expression="" defaultValue="" alwaysStopAt="true" />
        <variable name="DEV" expression="" defaultValue="" alwaysStopAt="true" />
        <variable name="VNAME" expression="" defaultValue="" alwaysStopAt="true" />
        <context>
            <option name="TYPEFORMATION" value="true" />
        </context>
    </template>
    <template name="cwb" value="BillingAlarm:&#10;  Type: AWS::CloudWatch::Alarm&#10;  Properties:&#10;    AlarmDescription: !Sub 'Alarm if AWS spending is over ${$THRESHOLD$} $CUR_DESC$'&#10;    Namespace: AWS/Billing&#10;    MetricName: EstimatedCharges&#10;    Dimensions:&#10;    - Name: Currency&#10;      Value: $CUR$&#10;    Statistic: Maximum&#10;    Period: $PERIOD$&#10;    EvaluationPeriods: 1&#10;    Threshold: [!Ref $THRESHOLD$]&#10;    ComparisonOperator: GreaterThanThreshold&#10;    AlarmActions: [!Ref $NOTIF$]&#10;    InsufficientDataActions: [!Ref $NOTIF$]" description="billing alarm" toReformat="true" toShortenFQNames="true">
        <variable name="CUR" expression="enum(&quot;USD&quot;, &quot;EUR&quot;, &quot;GBP&quot;, &quot;AUD&quot;, &quot;CAD&quot;)" defaultValue="" alwaysStopAt="true" />
        <variable name="CUR_DESC" expression="" defaultValue="CUR" alwaysStopAt="false" />
        <variable name="PERIOD" expression="" defaultValue="&quot;21600 # 6 hours&quot;" alwaysStopAt="true" />
        <variable name="THRESHOLD" expression="" defaultValue="&quot;Threshold&quot;" alwaysStopAt="true" />
        <variable name="NOTIF" expression="" defaultValue="&quot;BillingAlarmNotification&quot;" alwaysStopAt="true" />
        <context>
            <option name="TYPEFORMATION" value="true" />
        </context>
    </template>
    <template name="cwca" value="$NAME$:&#10;  Type: AWS::CloudWatch::Alarm&#10;  Properties:&#10;    AlarmDescription: !Sub 'CPU alarm for the ${$INSTANCE$} instance'&#10;    AlarmActions: [!Ref $TOPIC$]&#10;    MetricName: CPUUtilization&#10;    Namespace: AWS/EC2&#10;    Statistic: Average&#10;    Period: '60'&#10;    EvaluationPeriods: '3'&#10;    Threshold: $THRESHOLD$&#10;    ComparisonOperator: GreaterThanThreshold&#10;    Dimensions:&#10;    - Name: InstanceId&#10;      Value: !Ref $INSTANCE$" description="cpu alarm" toReformat="true" toShortenFQNames="true">
        <variable name="NAME" expression="" defaultValue="&quot;CPUAlarm&quot;" alwaysStopAt="true" />
        <variable name="INSTANCE" expression="" defaultValue="&quot;Instance&quot;" alwaysStopAt="true" />
        <variable name="TOPIC" expression="" defaultValue="&quot;Topic&quot;" alwaysStopAt="true" />
        <variable name="THRESHOLD" expression="" defaultValue="&quot;90&quot;" alwaysStopAt="true" />
        <context>
            <option name="TYPEFORMATION" value="true" />
        </context>
    </template>
    <template name="cwd" value="$NAME$:&#10;  Type: AWS::CloudWatch::Dashboard&#10;  Properties:&#10;    DashboardName: $D_NAME$&#10;    DashboardBody: !Sub '{&quot;widgets&quot;:[{&quot;type&quot;:&quot;metric&quot;,&quot;x&quot;:0,&quot;y&quot;:0,&quot;width&quot;:12,&quot;height&quot;:6,&quot;properties&quot;:{&quot;metrics&quot;:[[&quot;AWS/EC2&quot;,&quot;CPUUtilization&quot;,&quot;InstanceId&quot;,&quot;i-012345&quot;]],&quot;period&quot;:300,&quot;stat&quot;:&quot;Average&quot;,&quot;region&quot;:&quot;$REGION$&quot;,&quot;title&quot;:&quot;EC2 Instance CPU&quot;}},{&quot;type&quot;:&quot;text&quot;,&quot;x&quot;:0,&quot;y&quot;:7,&quot;width&quot;:3,&quot;height&quot;:3,&quot;properties&quot;:{&quot;markdown&quot;:&quot;$TEXT$&quot;}}]}'" description="basic cloudwatch dashboard" toReformat="true" toShortenFQNames="true">
        <variable name="NAME" expression="" defaultValue="&quot;Dashboard&quot;" alwaysStopAt="true" />
        <variable name="D_NAME" expression="" defaultValue="NAME" alwaysStopAt="true" />
        <variable name="REGION" expression="" defaultValue="&quot;${AWS::Region}&quot;" alwaysStopAt="true" />
        <variable name="TEXT" expression="" defaultValue="&quot;Hello world&quot;" alwaysStopAt="true" />
        <context>
            <option name="TYPEFORMATION" value="true" />
        </context>
    </template>
    <template name="eba" value="$APP$:&#10;  Type: AWS::ElasticBeanstalk::Application&#10;  Properties:&#10;    Description: $DESC$&#10;$VERSION$:&#10;  Type: AWS::ElasticBeanstalk::ApplicationVersion&#10;  Properties:&#10;    ApplicationName: !Ref $APP$&#10;    SourceBundle:&#10;      S3Bucket: $BUCKET$&#10;      S3Key: $KEY$&#10;$TEMPLATE$:&#10;  Type: AWS::ElasticBeanstalk::ConfigurationTemplate&#10;  Properties:&#10;    ApplicationName: !Ref $APP$&#10;    SolutionStackName: $STACK$&#10;    OptionSettings:&#10;    - Namespace: aws:autoscaling:asg&#10;      OptionName: MinSize&#10;      Value: '$MIN$'&#10;    - Namespace: aws:autoscaling:asg&#10;      OptionName: MaxSize&#10;      Value: '$MAX$'&#10;    - Namespace: aws:elasticbeanstalk:environment&#10;      OptionName: EnvironmentType&#10;      Value: $ENV_TYPE$&#10;$ENV$:&#10;  Type: AWS::ElasticBeanstalk::Environment&#10;  Properties:&#10;    ApplicationName: !Ref $APP$&#10;    TemplateName: !Ref $TEMPLATE$&#10;    VersionLabel: !Ref $VERSION$&#10;$END$" description="elastic beanstalk application" toReformat="true" toShortenFQNames="true">
        <variable name="APP" expression="" defaultValue="&quot;App&quot;" alwaysStopAt="true" />
        <variable name="DESC" expression="" defaultValue="&quot;our application&quot;" alwaysStopAt="true" />
        <variable name="VERSION" expression="" defaultValue="&quot;Version&quot;" alwaysStopAt="true" />
        <variable name="BUCKET" expression="" defaultValue="&quot;!Ref Bucket&quot;" alwaysStopAt="true" />
        <variable name="KEY" expression="" defaultValue="&quot;!Ref Key&quot;" alwaysStopAt="true" />
        <variable name="TEMPLATE" expression="" defaultValue="&quot;Template&quot;" alwaysStopAt="true" />
        <variable name="STACK" expression="enum(&quot;64bit Amazon Linux 2017.09 v2.9.1 running Docker 17.12.0-ce&quot;,&quot;64bit Amazon Linux 2017.09 v2.9.1 running Multi-container Docker 17.12.0-ce (Generic)&quot;,&quot;64bit Amazon Linux 2017.09 v2.6.5 running Python 3.6&quot;,&quot;64bit Amazon Linux 2017.09 v2.7.6 running Tomcat 8 Java 8&quot;,&quot;64bit Amazon Linux 2017.09 v4.4.5 running Node.js&quot;,&quot;64bit Amazon Linux 2017.09 v2.6.5 running PHP 7.1&quot;)" defaultValue="" alwaysStopAt="true" />
        <variable name="MIN" expression="" defaultValue="&quot;1&quot;" alwaysStopAt="true" />
        <variable name="MAX" expression="" defaultValue="&quot;1&quot;" alwaysStopAt="true" />
        <variable name="ENV_TYPE" expression="enum(&quot;SingleInstance&quot;, &quot;LoadBalanced&quot;)" defaultValue="" alwaysStopAt="true" />
        <variable name="ENV" expression="" defaultValue="&quot;Environment&quot;" alwaysStopAt="true" />
        <context>
            <option name="TYPEFORMATION" value="true" />
        </context>
    </template>
    <template name="ec2i" value="$NAME$:&#10;  Type: AWS::IAM::Role&#10;  Properties:&#10;    AssumeRolePolicyDocument:&#10;      Version: '2012-10-17'&#10;      Statement:&#10;      - Effect: Allow&#10;        Action: sts:AssumeRole&#10;        Principal:&#10;          Service: ec2.amazonaws.com&#10;&#10;$NAME$Policy:&#10;  Type: AWS::IAM::Policy&#10;  Properties:&#10;    PolicyName: $NAME2$&#10;    Roles: [!Ref RootRole]&#10;    PolicyDocument:&#10;      Version: '2012-10-17'&#10;      Statement:&#10;      - Effect: Allow&#10;        Action: ['$ACTION$']&#10;        Resource: ['$RESOURCE$']&#10;&#10;$NAME$InstanceProfile:&#10;  Type: AWS::IAM::InstanceProfile&#10;  Properties:&#10;    Roles: [!Ref $NAME$]&#10;$INSTRUCTION$&#10;$END$" description="ec2 iam role (instance profile)" toReformat="true" toShortenFQNames="true">
        <variable name="NAME" expression="" defaultValue="&quot;EC2Role&quot;" alwaysStopAt="true" />
        <variable name="NAME2" expression="lowercaseAndDash(NAME)" defaultValue="" alwaysStopAt="true" />
        <variable name="ACTION" expression="" defaultValue="&quot;*&quot;" alwaysStopAt="true" />
        <variable name="RESOURCE" expression="" defaultValue="&quot;*&quot;" alwaysStopAt="true" />
        <variable name="INSTRUCTION" expression="concat(&quot;# now specify !Ref &quot;, NAME, &quot;InstanceProfile as IamInstanceProfile property in AWS::EC2::Instance or an AWS::AutoScaling::LaunchConfiguration&quot;)" defaultValue="" alwaysStopAt="true" />
        <context>
            <option name="TYPEFORMATION" value="true" />
        </context>
    </template>
    <template name="ecr" value="$NAME$:&#10;  Type: AWS::ECR::Repository&#10;  Properties:&#10;    RepositoryName: $R_NAME$&#10;$END$" description="Elastic Container Registry" toReformat="true" toShortenFQNames="true">
        <variable name="NAME" expression="" defaultValue="Repo" alwaysStopAt="true" />
        <variable name="R_NAME" expression="lowercaseAndDash(NAME)" defaultValue="NAME" alwaysStopAt="true" />
        <context>
            <option name="TYPEFORMATION" value="true" />
        </context>
    </template>
    <template name="ecssb" value="$NAME$:&#10;  Type: AWS::ECS::Service&#10;  Properties:&#10;    Cluster: !Ref $CLUSTER$&#10;    DesiredCount: $COUNT$&#10;    LoadBalancers:&#10;    - ContainerName: !Ref $CONTAINER$&#10;      ContainerPort: $PORT$&#10;      TargetGroupArn: !Ref $TG$&#10;    TaskDefinition: !Ref $TD$&#10;    Role: !Sub arn:aws:iam::${AWS::AccountId}:role/aws-service-role/ecs.amazonaws.com/AWSServiceRoleForECS&#10;$END$" description="ecs service to be attached to an ELB" toReformat="true" toShortenFQNames="true">
        <variable name="NAME" expression="" defaultValue="&quot;Service&quot;" alwaysStopAt="true" />
        <variable name="CLUSTER" expression="" defaultValue="&quot;Cluster&quot;" alwaysStopAt="true" />
        <variable name="COUNT" expression="" defaultValue="&quot;1&quot;" alwaysStopAt="true" />
        <variable name="CONTAINER" expression="" defaultValue="&quot;AWS::StackName&quot;" alwaysStopAt="true" />
        <variable name="PORT" expression="" defaultValue="&quot;8080&quot;" alwaysStopAt="true" />
        <variable name="TG" expression="" defaultValue="&quot;TargetGroup&quot;" alwaysStopAt="true" />
        <variable name="TD" expression="" defaultValue="&quot;TaskDefinition&quot;" alwaysStopAt="true" />
        <context>
            <option name="TYPEFORMATION" value="true" />
        </context>
    </template>
    <template name="efs" value="$NAME$:&#10;  Type: AWS::EFS::FileSystem&#10;  Properties:&#10;    FileSystemTags:&#10;    - Key: Name&#10;      Value: $TAG_NAME$&#10;    PerformanceMode: $PERF$&#10;&#10;MountTarget:&#10;  Type: AWS::EFS::MountTarget&#10;  DependsOn: [$NAME$, EfsSecurityGroup]&#10;  Properties:&#10;    FileSystemId: !Ref $NAME$&#10;    SubnetId: !Ref $SUBNET$&#10;    SecurityGroups: [!Ref EfsSecurityGroup]&#10;&#10;EfsSecurityGroup:&#10;  Type: AWS::EC2::SecurityGroup&#10;  Properties:&#10;    VpcId: !Ref $VPC$&#10;    GroupDescription: $GROUP$&#10;$END$" description="a filesystem, a mount target and its security group" toReformat="true" toShortenFQNames="true">
        <variable name="NAME" expression="" defaultValue="&quot;FS&quot;" alwaysStopAt="true" />
        <variable name="TAG_NAME" expression="" defaultValue="&quot;!Ref AWS::StackName&quot;" alwaysStopAt="true" />
        <variable name="PERF" expression="" defaultValue="&quot;maxIO&quot;" alwaysStopAt="true" />
        <variable name="SUBNET" expression="" defaultValue="&quot;Subnet&quot;" alwaysStopAt="true" />
        <variable name="VPC" expression="" defaultValue="&quot;VPC&quot;" alwaysStopAt="true" />
        <variable name="GROUP" expression="concat(&quot;allows mounting the &quot;, NAME, &quot; filesystem.&quot;)" defaultValue="" alwaysStopAt="true" />
        <context>
            <option name="TYPEFORMATION" value="true" />
        </context>
    </template>
    <template name="eip" value="$NAME$:&#10;  Type: AWS::EC2::EIP&#10;  Properties:&#10;    InstanceId: !Ref $INSTANCE$" description="attaches elastic ip to an instance" toReformat="true" toShortenFQNames="true">
        <variable name="NAME" expression="" defaultValue="&quot;EIP&quot;" alwaysStopAt="true" />
        <variable name="INSTANCE" expression="" defaultValue="&quot;Instance&quot;" alwaysStopAt="true" />
        <context>
            <option name="TYPEFORMATION" value="true" />
        </context>
    </template>
    <template name="eipa" value="$NAME$:&#10;  Type: AWS::EC2::EIPAssociation&#10;  Properties:&#10;    InstanceId: !Ref $INSTANCE$&#10;    EIP: !Ref $EIP$" description="associates existing elastic ip to an instance" toReformat="true" toShortenFQNames="true">
        <variable name="NAME" expression="" defaultValue="&quot;IpAssoc&quot;" alwaysStopAt="true" />
        <variable name="INSTANCE" expression="" defaultValue="&quot;Instance&quot;" alwaysStopAt="true" />
        <variable name="EIP" expression="" defaultValue="&quot;EIP&quot;" alwaysStopAt="true" />
        <context>
            <option name="TYPEFORMATION" value="true" />
        </context>
    </template>
    <template name="iamag" value="$NAME$:&#10;  Type: AWS::IAM::UserToGroupAddition&#10;  Properties:&#10;    GroupName: $GROUP$&#10;    Users: !Ref $USER_LIST$&#10;$END$" description="add users to group" toReformat="true" toShortenFQNames="true">
        <variable name="NAME" expression="" defaultValue="&quot;AddToGroup&quot;" alwaysStopAt="true" />
        <variable name="GROUP" expression="" defaultValue="&quot;!Ref Group&quot;" alwaysStopAt="true" />
        <variable name="USER_LIST" expression="" defaultValue="&quot;StringListParam&quot;" alwaysStopAt="true" />
        <context>
            <option name="TYPEFORMATION" value="true" />
        </context>
    </template>
    <template name="iampg" value="$NAME$:&#10;  Type: AWS::IAM::Policy&#10;  Properties:&#10;    PolicyName: $NAME2$&#10;    PolicyDocument:&#10;      Version: '2012-10-17'&#10;      Statement:&#10;      - Effect: Allow&#10;        Action: ['$ACTIONS$']&#10;        Resource: '$RES$'&#10;    Groups: [!Ref $GROUP$]&#10;$END$" description="add iam policy to group" toReformat="true" toShortenFQNames="true">
        <variable name="NAME" expression="" defaultValue="&quot;Policy&quot;" alwaysStopAt="true" />
        <variable name="NAME2" expression="lowercaseAndDash(NAME)" defaultValue="" alwaysStopAt="true" />
        <variable name="ACTIONS" expression="" defaultValue="&quot;*&quot;" alwaysStopAt="true" />
        <variable name="RES" expression="" defaultValue="&quot;*&quot;" alwaysStopAt="true" />
        <variable name="GROUP" expression="" defaultValue="&quot;Group&quot;" alwaysStopAt="true" />
        <context>
            <option name="TYPEFORMATION" value="true" />
        </context>
    </template>
    <template name="paz" value="$NAME$:&#10;  Type: AWS::EC2::AvailabilityZone::Name" description="AZ param" toReformat="true" toShortenFQNames="true">
        <variable name="NAME" expression="" defaultValue="&quot;Az&quot;" alwaysStopAt="true" />
        <context>
            <option name="TYPEFORMATION" value="true" />
        </context>
    </template>
    <template name="pazl" value="$NAME$:&#10;  Type: List&lt;AWS::EC2::AvailabilityZone::Name&gt;" description="parameter:list of AZs" toReformat="true" toShortenFQNames="true">
        <variable name="NAME" expression="" defaultValue="&quot;AZs&quot;" alwaysStopAt="true" />
        <context>
            <option name="TYPEFORMATION" value="true" />
        </context>
    </template>
    <template name="sg2" value="$NAME$:&#10;  Type: AWS::EC2::SecurityGroup&#10;  Properties:&#10;    GroupDescription: allow &#10;    SecurityGroupIngress:&#10;    - IpProtocol: $PROTOCOL1$&#10;      FromPort: $PORT1$&#10;      ToPort: $TO_PORT1$&#10;      CidrIp: $CIDR1$&#10;    - IpProtocol: $PROTOCOL2$&#10;      FromPort: $PORT2$&#10;      ToPort: $TO_PORT2$&#10;      CidrIp: $CIDR2$" description="security group with 2 ingress" toReformat="true" toShortenFQNames="true">
        <variable name="NAME" expression="" defaultValue="&quot;SG&quot;" alwaysStopAt="true" />
        <variable name="PROTOCOL1" expression="" defaultValue="&quot;tcp&quot;" alwaysStopAt="true" />
        <variable name="PORT1" expression="" defaultValue="&quot;80&quot;" alwaysStopAt="true" />
        <variable name="TO_PORT1" expression="" defaultValue="&quot;80&quot;" alwaysStopAt="true" />
        <variable name="CIDR1" expression="" defaultValue="&quot;0.0.0.0/0&quot;" alwaysStopAt="true" />
        <variable name="PROTOCOL2" expression="" defaultValue="&quot;tcp&quot;" alwaysStopAt="true" />
        <variable name="PORT2" expression="" defaultValue="&quot;22&quot;" alwaysStopAt="true" />
        <variable name="TO_PORT2" expression="" defaultValue="&quot;22&quot;" alwaysStopAt="true" />
        <variable name="CIDR2" expression="" defaultValue="&quot;192.168.1.1/32&quot;" alwaysStopAt="true" />
        <context>
            <option name="TYPEFORMATION" value="true" />
        </context>
    </template>
    <template name="snsp" value="$NAME$:&#10;  Type: AWS::SNS::TopicPolicy&#10;  Properties:&#10;    PolicyDocument:&#10;      Id: $NAME2$&#10;      Version: 2012-10-17&#10;      Statement:&#10;      - Sid: $NAME2$&#10;        Effect: Allow&#10;        Principal:&#10;          AWS: !Sub '${$USER$.Arn}'&#10;        Action: sns:Publish&#10;        Resource: '*'&#10;    Topics: [!Ref $TOPIC$]&#10;$END$" description="sns policy" toReformat="true" toShortenFQNames="true">
        <variable name="NAME" expression="" defaultValue="&quot;SnsPolicy&quot;" alwaysStopAt="true" />
        <variable name="NAME2" expression="lowercaseAndDash(NAME)" defaultValue="" alwaysStopAt="true" />
        <variable name="USER" expression="" defaultValue="&quot;User&quot;" alwaysStopAt="true" />
        <variable name="TOPIC" expression="" defaultValue="&quot;Topic&quot;" alwaysStopAt="true" />
        <context>
            <option name="TYPEFORMATION" value="true" />
        </context>
    </template>
    <template name="sqsp" value="$NAME$:&#10;  Type: AWS::SQS::QueuePolicy&#10;  Properties:&#10;    PolicyDocument:&#10;      Id: $NAME2$&#10;      Version: 2012-10-17&#10;      Statement:&#10;      - Sid: $NAME2$&#10;        Effect: Allow&#10;        Principal:&#10;          AWS: !Sub '${$USER$.Arn}'&#10;        Action: sqs:SendMessage&#10;        Resource: '*'&#10;    Queues: [!Ref $QUEUE$]&#10;$END$" description="sqs policy" toReformat="true" toShortenFQNames="true">
        <variable name="NAME" expression="" defaultValue="&quot;SqsPolicy&quot;" alwaysStopAt="true" />
        <variable name="NAME2" expression="lowercaseAndDash(NAME)" defaultValue="" alwaysStopAt="true" />
        <variable name="USER" expression="" defaultValue="&quot;User&quot;" alwaysStopAt="true" />
        <variable name="QUEUE" expression="" defaultValue="&quot;Queue&quot;" alwaysStopAt="true" />
        <context>
            <option name="TYPEFORMATION" value="true" />
        </context>
    </template>
    <template name="ns" value="$NAME$:&#10;  Type: AWS::CloudFormation::Stack&#10;  Properties:&#10;    TemplateURL: 'https://s3.amazonaws.com/$URL$'&#10;    TimeoutInMinutes: $TIME$&#10;    Parameters:&#10;      $END$&#10;" description="nested stack" toReformat="true" toShortenFQNames="true">
        <variable name="NAME" expression="" defaultValue="&quot;Stack&quot;" alwaysStopAt="true" />
        <variable name="URL" expression="" defaultValue="" alwaysStopAt="true" />
        <variable name="TIME" expression="" defaultValue="&quot;30&quot;" alwaysStopAt="true" />
        <context>
            <option name="TYPEFORMATION" value="true" />
        </context>
    </template>
    <template name="td" value="$NAME$:&#10;  Type: AWS::ECS::TaskDefinition&#10;  Properties:&#10;    Family: $FAMILY$&#10;    Volumes:&#10;    - Name: $VOL$&#10;      Host:&#10;        SourcePath: $VOL_PATH$&#10;    ContainerDefinitions:&#10;    - Name: $CONTAINER$&#10;      Image: $IMAGE$&#10;      MemoryReservation: !FindInMap [Performance, MemoryReservation, !Ref Size]&#10;      LogConfiguration:&#10;        LogDriver: awslogs&#10;        Options:&#10;          awslogs-region: !Ref AWS::Region&#10;          awslogs-group: !Ref $LOG_GROUP$&#10;      MountPoints:&#10;      - ContainerPath: $C_PATH$&#10;        SourceVolume: $VOL$&#10;        #ReadOnly: true&#10;      PortMappings:&#10;      - ContainerPort: $PORT$" description="task definition" toReformat="true" toShortenFQNames="true">
        <variable name="NAME" expression="" defaultValue="&quot;TaskDefinition&quot;" alwaysStopAt="true" />
        <variable name="FAMILY" expression="lowercaseAndDash(NAME)" defaultValue="" alwaysStopAt="true" />
        <variable name="VOL" expression="" defaultValue="&quot;my-vol&quot;" alwaysStopAt="true" />
        <variable name="VOL_PATH" expression="concat(&quot;/root/&quot;, VOL.)" defaultValue="" alwaysStopAt="true" />
        <variable name="CONTAINER" expression="" defaultValue="FAMILY" alwaysStopAt="true" />
        <variable name="IMAGE" expression="concat(&quot;!Sub ${AWS::AccountId}.dkr.ecr.${AWS::Region}.amazonaws.com/&quot;, FAMILY, &quot;:${Tag}&quot;)" defaultValue="" alwaysStopAt="true" />
        <variable name="LOG_GROUP" expression="concat(NAME, &quot;LogGroup&quot;)" defaultValue="" alwaysStopAt="true" />
        <variable name="C_PATH" expression="" defaultValue="" alwaysStopAt="true" />
        <variable name="PORT" expression="" defaultValue="&quot;80&quot;" alwaysStopAt="true" />
        <context>
            <option name="TYPEFORMATION" value="true" />
        </context>
    </template>
    <template name="vol" value="$NAME$:&#10;  Type: AWS::EC2::Volume&#10;  Properties:&#10;    AvailabilityZone: !Ref $AZ$&#10;    Size: $SIZE$&#10;    Encrypted: $ENCRYPTED$&#10;    VolumeType: $TYPE$&#10;    Iops: $IOPS$&#10;$END$" description="an EBS volume" toReformat="true" toShortenFQNames="true">
        <variable name="NAME" expression="" defaultValue="&quot;Volume&quot;" alwaysStopAt="true" />
        <variable name="AZ" expression="" defaultValue="&quot;AZ&quot;" alwaysStopAt="true" />
        <variable name="SIZE" expression="" defaultValue="&quot;10&quot;" alwaysStopAt="true" />
        <variable name="ENCRYPTED" expression="" defaultValue="&quot;false&quot;" alwaysStopAt="true" />
        <variable name="TYPE" expression="" defaultValue="&quot;io1&quot;" alwaysStopAt="true" />
        <variable name="IOPS" expression="" defaultValue="" alwaysStopAt="true" />
        <context>
            <option name="TYPEFORMATION" value="true" />
        </context>
    </template>
    <template name="vpce" value="$NAME$:&#10;  Type: AWS::EC2::VPCEndpoint&#10;  Properties:&#10;    ServiceName: !Sub 'com.amazonaws.${AWS::Region}.$SERVICE$'&#10;    VpcId: !Ref $VPC$&#10;    RouteTableIds: !Ref $RT$&#10;$END$" description="vpc endpoint" toReformat="true" toShortenFQNames="true">
        <variable name="NAME" expression="" defaultValue="&quot;VpcEndpoint&quot;" alwaysStopAt="true" />
        <variable name="SERVICE" expression="" defaultValue="&quot;s3&quot;" alwaysStopAt="true" />
        <variable name="VPC" expression="" defaultValue="&quot;Vpc&quot;" alwaysStopAt="true" />
        <variable name="RT" expression="" defaultValue="&quot;RouteTable&quot;" alwaysStopAt="true" />
        <context>
            <option name="TYPEFORMATION" value="true" />
        </context>
    </template>
    <template name="snsq" value="$NAME$:&#10;  Type: AWS::SNS::Topic&#10;  Properties:&#10;    Subscription:&#10;    - Endpoint: !Sub ${$QUEUE$.Arn}&#10;      Protocol: sqs" description="SNS notification via SQS" toReformat="true" toShortenFQNames="true">
        <variable name="NAME" expression="" defaultValue="&quot;Topic&quot;" alwaysStopAt="true" />
        <variable name="QUEUE" expression="" defaultValue="&quot;Queue&quot;" alwaysStopAt="true" />
        <context>
            <option name="TYPEFORMATION" value="true" />
        </context>
    </template>
    <template name="cwl" value="$NAME$:&#10;  Type: AWS::Logs::LogGroup" description="cloudwatch log group" toReformat="true" toShortenFQNames="true">
        <variable name="NAME" expression="" defaultValue="&quot;LogGroup&quot;" alwaysStopAt="true" />
        <context>
            <option name="TYPEFORMATION" value="true" />
        </context>
    </template>
    <template name="cwlr" value="$NAME$:&#10;  Type: AWS::Logs::LogGroup&#10;  Properties:&#10;    RetentionInDays: $DAYS$" description="log group with retention" toReformat="true" toShortenFQNames="true">
        <variable name="NAME" expression="" defaultValue="&quot;LogGroup&quot;" alwaysStopAt="true" />
        <variable name="DAYS" expression="enum(&quot;1&quot;, &quot;3&quot;, &quot;5&quot;, &quot;7&quot;, &quot;14&quot;, &quot;30&quot;, &quot;60&quot;, &quot;90&quot;, &quot;120&quot;, &quot;150&quot;, &quot;180&quot;, &quot;365&quot;, &quot;400&quot;, &quot;545&quot;, &quot;731&quot;, &quot;1827&quot;, &quot;3653&quot;)" defaultValue="" alwaysStopAt="true" />
        <context>
            <option name="TYPEFORMATION" value="true" />
        </context>
    </template>
    <template name="dmse" value="$NAME$:&#10;  Type: AWS::DMS::Endpoint&#10;  Properties:&#10;    EndpointType: $TYPE$&#10;    DatabaseName: PGDATA&#10;    EngineName: $ENGINE$&#10;    ServerName: $SERVER$&#10;    Port: $PORT$&#10;    SslMode: $SSL$&#10;    Username: !Ref $USER$&#10;    Password: !Ref $PASS$&#10;$END$" description="dms endpoint" toReformat="true" toShortenFQNames="true">
        <variable name="NAME" expression="" defaultValue="&quot;Endpoint&quot;" alwaysStopAt="true" />
        <variable name="TYPE" expression="enum(&quot;source&quot;, &quot;target&quot;)" defaultValue="" alwaysStopAt="true" />
        <variable name="ENGINE" expression="enum(&quot;MYSQL&quot;, &quot;ORACLE&quot;, &quot;POSTGRES&quot;, &quot;MARIADB&quot;, &quot;AURORA&quot;, &quot;REDSHIFT&quot;, &quot;S3&quot;, &quot;SYBASE&quot;, &quot;DYNAMODB&quot;, &quot;MONGODB&quot;, &quot;SQLSERVER&quot;)" defaultValue="" alwaysStopAt="true" />
        <variable name="SERVER" expression="" defaultValue="" alwaysStopAt="true" />
        <variable name="PORT" expression="enum(&quot;1433&quot;, &quot;3306&quot;)" defaultValue="" alwaysStopAt="true" />
        <variable name="SSL" expression="enum(&quot;none&quot;, &quot;require&quot;, &quot;verify-ca&quot;, &quot;verify-full&quot;)" defaultValue="" alwaysStopAt="true" />
        <variable name="USER" expression="" defaultValue="&quot;Username&quot;" alwaysStopAt="true" />
        <variable name="PASS" expression="concat(capitalize(TYPE),&quot;Password&quot;)" defaultValue="" alwaysStopAt="true" />
        <context>
            <option name="TYPEFORMATION" value="true" />
        </context>
    </template>
    <template name="dmses" value="TaskEvents:&#10;  Type: AWS::DMS::EventSubscription&#10;  DependsOn: Task&#10;  Properties:&#10;    SnsTopicArn: !Ref $TOPIC$&#10;    SourceIds: [$SOURCE$]&#10;    SourceType: $TYPE$" description="dms event subscription" toReformat="true" toShortenFQNames="true">
        <variable name="TOPIC" expression="" defaultValue="&quot;Topic&quot;" alwaysStopAt="true" />
        <variable name="SOURCE" expression="" defaultValue="&quot;'ReplicationInstanceIdentifierOrReplicationTaskIdentifier'&quot;" alwaysStopAt="true" />
        <variable name="TYPE" expression="enum(&quot;replication-task&quot;, &quot;replication-instance&quot;)" defaultValue="" alwaysStopAt="true" />
        <context>
            <option name="TYPEFORMATION" value="true" />
        </context>
    </template>
    <template name="dmsi" value="[dms.t2.micro, dms.t2.small, dms.t2.medium , dms.t2.large, dms.c4.large, dms.c4.xlarge, dms.c4.2xlarge, dms.c4.4xlarge]" description="list of dms instance types" toReformat="true" toShortenFQNames="true">
        <context>
            <option name="TYPEFORMATION" value="true" />
        </context>
    </template>
    <template name="dmsr" value="$NAME$:&#10;  Type: AWS::IAM::Role&#10;  Condition: $COND$&#10;  Properties:&#10;    RoleName: dms-cloudwatch-logs-role&#10;    AssumeRolePolicyDocument:&#10;      Statement:&#10;      - Action: sts:AssumeRole&#10;        Effect: Allow&#10;        Principal:&#10;          Service: dms.amazonaws.com&#10;    ManagedPolicyArns: ['arn:aws:iam::aws:policy/service-role/AmazonDMSCloudWatchLogsRole']" description="dms role" toReformat="true" toShortenFQNames="true">
        <variable name="NAME" expression="" defaultValue="&quot;Role&quot;" alwaysStopAt="true" />
        <variable name="COND" expression="" defaultValue="&quot;CreateRole&quot;" alwaysStopAt="true" />
        <context>
            <option name="TYPEFORMATION" value="true" />
        </context>
    </template>
    <template name="dmssr" value="{&#10;  &quot;rule-type&quot;: &quot;selection&quot;,&#10;  &quot;rule-id&quot;: &quot;$ID$&quot;,&#10;  &quot;rule-name&quot;: &quot;$NAME$&quot;,&#10;  &quot;object-locator&quot;: {&#10;    &quot;schema-name&quot;: &quot;$SCHEMA$&quot;,&#10;    &quot;table-name&quot;: &quot;$TABLE$&quot;&#10;  },&#10;  &quot;rule-action&quot;: &quot;$ACTION$&quot;&#10;}" description="dms selection rule" toReformat="true" toShortenFQNames="true">
        <variable name="ID" expression="" defaultValue="" alwaysStopAt="true" />
        <variable name="NAME" expression="" defaultValue="ID" alwaysStopAt="true" />
        <variable name="SCHEMA" expression="" defaultValue="&quot;%&quot;" alwaysStopAt="true" />
        <variable name="TABLE" expression="" defaultValue="&quot;%&quot;" alwaysStopAt="true" />
        <variable name="ACTION" expression="enum(&quot;exclude&quot;, &quot;include&quot;)" defaultValue="" alwaysStopAt="true" />
        <context>
            <option name="TYPEFORMATION" value="true" />
        </context>
    </template>
    <template name="nat" value="NatGateway$NAME$:&#10;  Type: AWS::CloudFormation::Stack&#10;  Properties:&#10;    TemplateURL: 'https://s3-eu-west-1.amazonaws.com/widdix-aws-cf-templates-releases-eu-west-1/stable/vpc/vpc-nat-gateway.yaml'&#10;    Parameters:&#10;      SubnetZone: $ZONE$&#10;      ParentVPCStack: !Sub ${$VPC$.Outputs.StackName}&#10;$END$" description="nat gateway from cloudonaut" toReformat="true" toShortenFQNames="true">
        <variable name="ZONE" expression="enum(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;)" defaultValue="" alwaysStopAt="true" />
        <variable name="NAME" expression="" defaultValue="ZONE" alwaysStopAt="false" />
        <variable name="VPC" expression="" defaultValue="&quot;Vpc&quot;" alwaysStopAt="true" />
        <context>
            <option name="TYPEFORMATION" value="true" />
        </context>
    </template>
    <template name="sqs" value="$NAME$:&#10;  Type: AWS::SQS::Queue&#10;  Properties:&#10;    QueueName: $QUEUE$&#10;    MessageRetentionPeriod: $PERIOD$" description="sqs queue" toReformat="true" toShortenFQNames="true">
        <variable name="NAME" expression="" defaultValue="&quot;Queue&quot;" alwaysStopAt="true" />
        <variable name="QUEUE" expression="" defaultValue="&quot;queue-name&quot;" alwaysStopAt="true" />
        <variable name="PERIOD" expression="" defaultValue="&quot;1209600 # seconds (in 2 weeks)&quot;" alwaysStopAt="true" />
        <context>
            <option name="TYPEFORMATION" value="true" />
        </context>
    </template>
    <template name="vpc" value="$NAME$:&#10;  Type: AWS::CloudFormation::Stack&#10;  Properties:&#10;    TemplateURL: 'https://s3-eu-west-1.amazonaws.com/widdix-aws-cf-templates-releases-eu-west-1/stable/vpc/vpc-$COUNT$azs.yaml'&#10;    Parameters:&#10;      ClassB: $CLASS$ # 10.xxx.0.0/16&#10;      $COMMENT$" description="cloudonaut vpc with specified number of public and private subnets" toReformat="true" toShortenFQNames="true">
        <variable name="NAME" expression="" defaultValue="&quot;Vpc&quot;" alwaysStopAt="true" />
        <variable name="COUNT" expression="enum(&quot;2&quot;, &quot;3&quot;, &quot;4&quot;)" defaultValue="" alwaysStopAt="true" />
        <variable name="CLASS" expression="" defaultValue="&quot;0&quot;" alwaysStopAt="true" />
        <variable name="COMMENT" expression="" defaultValue="&quot;#now type \&quot;nat\&quot; to reach the Internet from each private subnet&quot;" alwaysStopAt="true" />
        <context>
            <option name="TYPEFORMATION" value="true" />
        </context>
    </template>
    <template name="vpc2" value="$NAME$:&#10;  Type: AWS::CloudFormation::Stack&#10;  Properties:&#10;    TemplateURL: 'https://s3-eu-west-1.amazonaws.com/widdix-aws-cf-templates-releases-eu-west-1/stable/vpc/vpc-2azs.yaml'&#10;    Parameters:&#10;      ClassB: $CLASS$ # 10.xxx.0.0/16&#10;NatGatewayA:&#10;  Type: AWS::CloudFormation::Stack&#10;  Properties:&#10;    TemplateURL: 'https://s3-eu-west-1.amazonaws.com/widdix-aws-cf-templates-releases-eu-west-1/stable/vpc/vpc-nat-gateway.yaml'&#10;    Parameters:&#10;      SubnetZone: A&#10;      ParentVPCStack: !Sub ${$NAME$.Outputs.StackName}&#10;NatGatewayB:&#10;  Type: AWS::CloudFormation::Stack&#10;  Properties:&#10;    TemplateURL: 'https://s3-eu-west-1.amazonaws.com/widdix-aws-cf-templates-releases-eu-west-1/stable/vpc/vpc-nat-gateway.yaml'&#10;    Parameters:&#10;      SubnetZone: B&#10;      ParentVPCStack: !Sub ${$NAME$.Outputs.StackName}&#10;  $END$" description="cloudonaut vpc with a nat gateway in each AZ" toReformat="true" toShortenFQNames="true">
        <variable name="NAME" expression="" defaultValue="&quot;Vpc&quot;" alwaysStopAt="true" />
        <variable name="CLASS" expression="" defaultValue="&quot;0&quot;" alwaysStopAt="true" />
        <context>
            <option name="TYPEFORMATION" value="true" />
        </context>
    </template>
    <template name="vpc4" value="$NAME$:&#10;  Type: AWS::CloudFormation::Stack&#10;  Properties:&#10;    TemplateURL: 'https://s3-eu-west-1.amazonaws.com/widdix-aws-cf-templates-releases-eu-west-1/stable/vpc/vpc-2azs.yaml'&#10;    Parameters:&#10;      ClassB: $CLASS$ # 10.xxx.0.0/16&#10;NatGatewayA:&#10;  Type: AWS::CloudFormation::Stack&#10;  Properties:&#10;    TemplateURL: 'https://s3-eu-west-1.amazonaws.com/widdix-aws-cf-templates-releases-eu-west-1/stable/vpc/vpc-nat-gateway.yaml'&#10;    Parameters:&#10;      SubnetZone: A&#10;      ParentVPCStack: !Sub ${$NAME$.Outputs.StackName}&#10;NatGatewayB:&#10;  Type: AWS::CloudFormation::Stack&#10;  Properties:&#10;    TemplateURL: 'https://s3-eu-west-1.amazonaws.com/widdix-aws-cf-templates-releases-eu-west-1/stable/vpc/vpc-nat-gateway.yaml'&#10;    Parameters:&#10;      SubnetZone: B&#10;      ParentVPCStack: !Sub ${$NAME$.Outputs.StackName}&#10;NatGatewayC:&#10;  Type: AWS::CloudFormation::Stack&#10;  Properties:&#10;    TemplateURL: 'https://s3-eu-west-1.amazonaws.com/widdix-aws-cf-templates-releases-eu-west-1/stable/vpc/vpc-nat-gateway.yaml'&#10;    Parameters:&#10;      SubnetZone: C&#10;      ParentVPCStack: !Sub ${$NAME$.Outputs.StackName}&#10;NatGatewayD:&#10;  Type: AWS::CloudFormation::Stack&#10;  Properties:&#10;    TemplateURL: 'https://s3-eu-west-1.amazonaws.com/widdix-aws-cf-templates-releases-eu-west-1/stable/vpc/vpc-nat-gateway.yaml'&#10;      Parameters:&#10;        SubnetZone: D&#10;        ParentVPCStack: !Sub ${$NAME$.Outputs.StackName}&#10;  $END$" description="cloudonaut vpc with a nat gateway in each AZ" toReformat="true" toShortenFQNames="true">
        <variable name="NAME" expression="" defaultValue="&quot;Vpc&quot;" alwaysStopAt="true" />
        <variable name="CLASS" expression="" defaultValue="&quot;0&quot;" alwaysStopAt="true" />
        <context>
            <option name="TYPEFORMATION" value="true" />
        </context>
    </template>
    <template name="c9" value="$RESOURCE_NAME$:&#10;  Type: AWS::Cloud9::EnvironmentEC2&#10;  Properties:&#10;    Name: $NAME$&#10;    InstanceType: $INS$&#10;    SubnetId: !Ref $SUBNET$&#10;    AutomaticStopTimeMinutes: $TIMEOUT$&#10;    OwnerArn: !Sub 'arn:aws:iam::${AWS::AccountId}:$OWNER$'&#10;    Repositories:&#10;    -  PathComponent: $REPO$&#10;       RepositoryUrl: !Sub '$URL$'" description="cloud 9 ide" toReformat="true" toShortenFQNames="true">
        <variable name="RESOURCE_NAME" expression="" defaultValue="&quot;C9&quot;" alwaysStopAt="true" />
        <variable name="NAME" expression="lowercaseAndDash(RESOURCE_NAME)" defaultValue="" alwaysStopAt="true" />
        <variable name="INS" expression="enum(&quot;c3.2xlarge&quot;, &quot;c3.4xlarge&quot;, &quot;c3.8xlarge&quot;, &quot;c3.large&quot;, &quot;c3.xlarge&quot;, &quot;c4.2xlarge&quot;, &quot;c4.4xlarge&quot;, &quot;c4.8xlarge&quot;, &quot;c4.large&quot;, &quot;c4.xlarge&quot;, &quot;m3.2xlarge&quot;, &quot;m3.large&quot;, &quot;m3.medium&quot;, &quot;m3.xlarge&quot;, &quot;m4.10xlarge&quot;, &quot;m4.16xlarge&quot;, &quot;m4.2xlarge&quot;, &quot;m4.4xlarge&quot;, &quot;m4.large&quot;, &quot;m4.xlarge&quot;, &quot;t2.2xlarge&quot;, &quot;t2.large&quot;, &quot;t2.medium&quot;, &quot;t2.micro&quot;, &quot;t2.nano&quot;, &quot;t2.small&quot;, &quot;t2.xlarge&quot;)" defaultValue="" alwaysStopAt="true" />
        <variable name="SUBNET" expression="" defaultValue="&quot;Subnet&quot;" alwaysStopAt="true" />
        <variable name="TIMEOUT" expression="" defaultValue="&quot;30&quot;" alwaysStopAt="true" />
        <variable name="OWNER" expression="enum(&quot;root&quot;, &quot;user/${User}&quot;, &quot;group/${Group}&quot;, &quot;role/${Role}&quot;)" defaultValue="" alwaysStopAt="true" />
        <variable name="REPO" expression="" defaultValue="&quot;org-name/repo-name&quot;" alwaysStopAt="true" />
        <variable name="URL" expression="enum(concat(&quot;https://github.com/&quot;, REPO, &quot;.git&quot;), concat(&quot;https://git-codecommit.${AWS::Region}.amazonaws.com/v1/repos/&quot;, REPO))" defaultValue="" alwaysStopAt="true" />
        <context>
            <option name="TYPEFORMATION" value="true" />
        </context>
    </template>
    <template name="c9r" value="$REPO$:&#10;  Type: AWS::CodeCommit::Repository&#10;  Properties:&#10;    RepositoryName: '$REPO_NAME$'&#10;    RepositoryDescription: 'Git repo for the $REPO_NAME$ project'&#10;&#10;$RESOURCE_NAME$:&#10;  Type: AWS::Cloud9::EnvironmentEC2&#10;  Properties:&#10;    Name: $NAME$&#10;    InstanceType: $INS$&#10;    Description: '$DESC$'&#10;    SubnetId: !Ref $SUBNET$&#10;    AutomaticStopTimeMinutes: $TIMEOUT$&#10;    OwnerArn: !Sub 'arn:aws:iam::${AWS::AccountId}:$OWNER$'&#10;    Repositories:&#10;    -  PathComponent: !Sub '${$REPO$.Name}'&#10;       RepositoryUrl: !Sub '${$REPO$.CloneUrlHttp}'" description="cloud 9 ide with codecommit repo" toReformat="true" toShortenFQNames="true">
        <variable name="REPO" expression="" defaultValue="&quot;Repo&quot;" alwaysStopAt="true" />
        <variable name="REPO_NAME" expression="lowercaseAndDash(REPO)" defaultValue="" alwaysStopAt="true" />
        <variable name="RESOURCE_NAME" expression="" defaultValue="&quot;C9&quot;" alwaysStopAt="true" />
        <variable name="INS" expression="enum(&quot;c3.2xlarge&quot;, &quot;c3.4xlarge&quot;, &quot;c3.8xlarge&quot;, &quot;c3.large&quot;, &quot;c3.xlarge&quot;, &quot;c4.2xlarge&quot;, &quot;c4.4xlarge&quot;, &quot;c4.8xlarge&quot;, &quot;c4.large&quot;, &quot;c4.xlarge&quot;, &quot;m3.2xlarge&quot;, &quot;m3.large&quot;, &quot;m3.medium&quot;, &quot;m3.xlarge&quot;, &quot;m4.10xlarge&quot;, &quot;m4.16xlarge&quot;, &quot;m4.2xlarge&quot;, &quot;m4.4xlarge&quot;, &quot;m4.large&quot;, &quot;m4.xlarge&quot;, &quot;t2.2xlarge&quot;, &quot;t2.large&quot;, &quot;t2.medium&quot;, &quot;t2.micro&quot;, &quot;t2.nano&quot;, &quot;t2.small&quot;, &quot;t2.xlarge&quot;)" defaultValue="" alwaysStopAt="true" />
        <variable name="NAME" expression="lowercaseAndDash(RESOURCE_NAME)" defaultValue="" alwaysStopAt="true" />
        <variable name="DESC" expression="concat(&quot;IDE for the &quot;, REPO, &quot; project&quot;)" defaultValue="" alwaysStopAt="true" />
        <variable name="SUBNET" expression="" defaultValue="&quot;Subnet&quot;" alwaysStopAt="true" />
        <variable name="TIMEOUT" expression="" defaultValue="&quot;30&quot;" alwaysStopAt="true" />
        <variable name="OWNER" expression="enum(&quot;root&quot;, &quot;user/${User}&quot;, &quot;group/${Group}&quot;, &quot;role/${Role}&quot;)" defaultValue="" alwaysStopAt="true" />
        <context>
            <option name="TYPEFORMATION" value="true" />
        </context>
    </template>
    <template name="micro" value="$NAME$Fn:&#10;  Type: AWS::Serverless::Function&#10;  Properties:&#10;    Handler: $HANDLER$&#10;    Runtime: $RUNTIME$&#10;    CodeUri: ./$FILE$&#10;    Environment:&#10;      Variables:&#10;        #key: !Ref Value&#10;    Events:&#10;      $EVENT$:&#10;        Type: $TYPE$&#10;        Properties:&#10;  Path: /$PATH$&#10;  Method: $METHOD$&#10;" description="microservice backed by http" toReformat="true" toShortenFQNames="true">
        <variable name="NAME" expression="" defaultValue="" alwaysStopAt="true" />
        <variable name="HANDLER" expression="" defaultValue="&quot;index.handler&quot;" alwaysStopAt="true" />
        <variable name="RUNTIME" expression="enum(&quot;python3.6&quot;,&quot;nodejs8.10&quot;,&quot;nodejs6.10&quot;,&quot;java8&quot;,&quot;nodejs4.3-edge&quot;,&quot;go1.x&quot;,&quot;nodejs4.3&quot;,&quot;python2.7&quot;,&quot;dotnetcore1.0&quot;,&quot;dotnetcore2.0&quot;)" defaultValue="" alwaysStopAt="true" />
        <variable name="FILE" expression="" defaultValue="&quot;index.py&quot;" alwaysStopAt="true" />
        <variable name="EVENT" expression="" defaultValue="TYPE" alwaysStopAt="true" />
        <variable name="TYPE" expression="enum(&quot;Api&quot;, &quot;Schedule&quot;, &quot;S3&quot;, &quot;SNS&quot;, &quot;Kinesis&quot;, &quot;DynamoDB&quot;, &quot;CloudWatchEvent&quot;, &quot;IoTRule&quot;, &quot;AlexaSkill&quot;)" defaultValue="" alwaysStopAt="true" />
        <variable name="PATH" expression="lowercaseAndDash(NAME)" defaultValue="" alwaysStopAt="true" />
        <variable name="METHOD" expression="enum(&quot;ANY&quot;, &quot;POST&quot;, &quot;GET&quot;, &quot;HEAD&quot;, &quot;PUT&quot;, &quot;DELETE&quot;, &quot;PATCH&quot;, &quot;OPTIONS&quot;)" defaultValue="" alwaysStopAt="true" />
        <context>
            <option name="TYPEFORMATION" value="true" />
        </context>
    </template>
    <template name="sek" value="Kinesis:&#10;  Type: Kinesis&#10;  Properties:&#10;    Stream: !Sub '${$STREAM$.Arn}'&#10;    StartingPosition: $POS$&#10;    BatchSize: $SIZE$" description="serverless kinesis event" toReformat="true" toShortenFQNames="true">
        <variable name="STREAM" expression="" defaultValue="&quot;Stream&quot;" alwaysStopAt="true" />
        <variable name="POS" expression="enum(&quot;TRIM_HORIZON&quot;, &quot;LATEST&quot;)" defaultValue="" alwaysStopAt="true" />
        <variable name="SIZE" expression="" defaultValue="&quot;10&quot;" alwaysStopAt="true" />
        <context>
            <option name="TYPEFORMATION" value="true" />
        </context>
    </template>
    <template name="ses3" value="S3:&#10;  Bucket: !Ref $BUCKET$&#10;  Events: ['$EVENT$']&#10;  Filter:&#10;    S3Key:&#10;      Rules:&#10;      - Name: $NAME$&#10;        Value: $EXT$" description="serverless s3 event" toReformat="true" toShortenFQNames="true">
        <variable name="BUCKET" expression="" defaultValue="&quot;Bucket&quot;" alwaysStopAt="true" />
        <variable name="EVENT" expression="enum(&quot;ObjectCreated:*&quot;,&quot;ObjectCreated:Put&quot;,&quot;ObjectCreated:Post&quot;,&quot;ObjectCreated:Copy&quot;,&quot;ObjectCreated:CompleteMultipartUpload&quot;,&quot;ObjectRemoved:*&quot;,&quot;ObjectRemoved:Delete&quot;,&quot;ObjectRemoved:DeleteMarkerCreated&quot;,&quot;ReducedRedundancyLostObject&quot;)" defaultValue="" alwaysStopAt="true" />
        <variable name="NAME" expression="enum(&quot;suffix&quot;, &quot;prefix&quot;)" defaultValue="" alwaysStopAt="true" />
        <variable name="EXT" expression="enum(&quot;prefix/&quot;, &quot;.ext&quot;)" defaultValue="" alwaysStopAt="true" />
        <context>
            <option name="TYPEFORMATION" value="true" />
        </context>
    </template>
    <template name="sesns" value="SNS:&#10;  Type: SNS&#10;  Properties:&#10;    Topic: !Ref $TOPIC$" description="serverless sns event" toReformat="true" toShortenFQNames="true">
        <variable name="TOPIC" expression="" defaultValue="&quot;Topic&quot;" alwaysStopAt="true" />
        <context>
            <option name="TYPEFORMATION" value="true" />
        </context>
    </template>
    <template name="s3dy" value="DynamoDB:&#10;  Type: DynamoDB&#10;  Properties:&#10;    Stream: !Sub 'arn:aws:dynamodb:${AWS:Region}:${AWS:AccountId}:table/${$TABLE$}/stream/$STREAM$'&#10;    StartingPosition: $POS$&#10;    BatchSize: $SIZE$" description="serverless dynamodb event" toReformat="true" toShortenFQNames="true">
        <variable name="TABLE" expression="" defaultValue="&quot;Table&quot;" alwaysStopAt="true" />
        <variable name="STREAM" expression="" defaultValue="&quot;yyyy-MM-ddTHH:mm:ss.SSS&quot;" alwaysStopAt="true" />
        <variable name="POS" expression="enum(&quot;TRIM_HORIZON&quot;, &quot;LATEST&quot;)" defaultValue="" alwaysStopAt="true" />
        <variable name="SIZE" expression="" defaultValue="&quot;10&quot;" alwaysStopAt="true" />
        <context>
            <option name="TYPEFORMATION" value="true" />
        </context>
    </template>
    <template name="sece" value="CloudWatchEvent:&#10;  Type: CloudWatchEvent&#10;  Properties:&#10;    Pattern:&#10;      detail:&#10;        $END$" description="serverless cloudwatch event event" toReformat="true" toShortenFQNames="true">
        <context>
            <option name="TYPEFORMATION" value="true" />
        </context>
    </template>
    <template name="arn" value="!Sub '${$RESOURCE$.Arn}'" description="substitute, using arn" toReformat="false" toShortenFQNames="true">
        <variable name="RESOURCE" expression="" defaultValue="" alwaysStopAt="true" />
        <context>
            <option name="TYPEFORMATION" value="true" />
        </context>
    </template>
    <template name="st" value="AWSTemplateFormatVersion: '2010-09-09'&#10;Description: '$DESC$'&#10;&#10;Parameters:&#10;  &#10;Resources:&#10;  $END$" description="Starts a cloudformation yaml file" toReformat="true" toShortenFQNames="true">
        <variable name="DESC" expression="" defaultValue="" alwaysStopAt="true" />
        <context>
            <option name="TYPEFORMATION" value="true" />
        </context>
    </template>
    <template name="bas" value="$BASTION$:&#10;  Type: AWS::CloudFormation::Stack&#10;  Properties:&#10;    TemplateURL: 'https://s3.amazonaws.com/stelligent-public/cloudformation-templates/github/bastion.yml'&#10;    TimeoutInMinutes: 20&#10;    Parameters:&#10;      Owner: $OWNER$&#10;      Project: Bastion&#10;      DeleteAfter: Never&#10;      Ec2KeyPair: !Ref KeyName&#10;      InstanceType: $TYPE$&#10;      InternalAccessSecurityGroup: !Ref $SG$&#10;      InstallChefdk: false&#10;      PublicNetworkAcl: !Ref $ACL$&#10;      VPC: !Ref $VPC$&#10;      PublicSubnet: !Ref $SUBNET$&#10;      OsType: $OS$&#10;      NetworkAccessIP: $IP$" description="stelligent bastion host" toReformat="true" toShortenFQNames="true">
        <variable name="BASTION" expression="" defaultValue="&quot;Bastion&quot;" alwaysStopAt="true" />
        <variable name="OWNER" expression="user()" defaultValue="" alwaysStopAt="true" />
        <variable name="TYPE" expression="enum(&quot;t2.nano&quot;, &quot;t2.micro&quot;, &quot;t2.small&quot;, &quot;t2.medium&quot;)" defaultValue="" alwaysStopAt="true" />
        <variable name="SG" expression="" defaultValue="&quot;SecurityGroup&quot;" alwaysStopAt="true" />
        <variable name="ACL" expression="" defaultValue="&quot;Acl&quot;" alwaysStopAt="true" />
        <variable name="VPC" expression="" defaultValue="&quot;VPC&quot;" alwaysStopAt="true" />
        <variable name="SUBNET" expression="" defaultValue="&quot;Subnet&quot;" alwaysStopAt="true" />
        <variable name="OS" expression="enum(&quot;amazon&quot;, &quot;centos&quot;, &quot;rhel&quot;, &quot;suse&quot;, &quot;ubuntu&quot;)" defaultValue="" alwaysStopAt="true" />
        <variable name="IP" expression="" defaultValue="&quot;0.0.0.0/0&quot;" alwaysStopAt="true" />
        <context>
            <option name="TYPEFORMATION" value="true" />
        </context>
    </template>
    <template name="mu" value="Ubuntu1604LTS:&#10;  us-gov-west-1:&#10;    x64: ami-fb77e29a&#10;  cn-north-1:&#10;    x64: ami-a209d6cf&#10;  eu-west-3:&#10;    x64: ami-9a03b5e7&#10;  us-east-2:&#10;    x64: ami-e82a1a8d&#10;  sa-east-1:&#10;    x64: ami-5782d43b&#10;  eu-central-1:&#10;    x64: ami-cd491726&#10;  us-west-1:&#10;    x64: ami-493f2f29&#10;  us-west-2:&#10;    x64: ami-ca89eeb2&#10;  ap-northeast-2:&#10;    x64: ami-633d920d&#10;  ca-central-1:&#10;    x64: ami-9d7afcf9&#10;  eu-west-2:&#10;    x64: ami-506e8f37&#10;  ap-southeast-1:&#10;    x64: ami-82c9ecfe&#10;  eu-west-1:&#10;    x64: ami-74e6b80d&#10;  ap-southeast-2:&#10;    x64: ami-2b12dc49&#10;  ap-northeast-1:&#10;    x64: ami-60a4b21c&#10;  us-east-1:&#10;    x64: ami-6dfe5010&#10;  ap-northeast-3:&#10;    x64: ami-89c3cdf4&#10;  ap-south-1:&#10;    x64: ami-dba580b4" description="mapping ubuntu 16.04 LTS (64-bit, ebs, hvm, vendor)" toReformat="false" toShortenFQNames="false">
        <context>
            <option name="TYPEFORMATION" value="true" />
        </context>
    </template>
    <template name="mc" value="CentOS7:&#10;  ap-northeast-1:&#10;    x64: ami-25bd2743&#10;  ap-northeast-2:&#10;    x64: ami-7248e81c&#10;  ap-south-1:&#10;    x64: ami-5d99ce32&#10;  ap-southeast-1:&#10;    x64: ami-d2fa88ae&#10;  ap-southeast-2:&#10;    x64: ami-b6bb47d4&#10;  ca-central-1:&#10;    x64: ami-dcad28b8&#10;  eu-central-1:&#10;    x64: ami-337be65c&#10;  eu-west-1:&#10;    x64: ami-6e28b517&#10;  eu-west-2:&#10;    x64: ami-ee6a718a&#10;  eu-west-3:&#10;    x64: ami-bfff49c2&#10;  sa-east-1:&#10;    x64: ami-f9adef95&#10;  us-east-1:&#10;    x64: ami-4bf3d731&#10;  us-east-2:&#10;    x64: ami-e1496384&#10;  us-west-1:&#10;    x64: ami-65e0e305&#10;  us-west-2:&#10;    x64: ami-a042f4d8" description="centos 7 updated 14/01/2018 (64-bit, ebs, hvm, vendor)" toReformat="true" toShortenFQNames="true">
        <context>
            <option name="TYPEFORMATION" value="true" />
        </context>
    </template>
    <template name="ma" value="AmazonLinux:&#10;  us-east-1:&#10;    value: ami-97785bed&#10;  us-east-2:&#10;    value: ami-f63b1193&#10;  us-west-2:&#10;   value: ami-f2d3638a&#10;  us-west-1:&#10;    value: ami-824c4ee2&#10;  ca-central-1:&#10;    value: ami-a954d1cd&#10;  eu-west-1:&#10;    value: ami-d834aba1&#10;  eu-west-2:&#10;    value: ami-403e2524&#10;  eu-west-3:&#10;    value: ami-8ee056f3&#10;  eu-central-1:&#10;    value: ami-5652ce39&#10;  ap-southeast-1:&#10;    value: ami-68097514&#10;  ap-northeast-2:&#10;    value: ami-863090e8&#10;  ap-northeast-1:&#10;    value: ami-ceafcba8&#10;  ap-southeast-2:&#10;    value: ami-942dd1f6&#10;  ap-south-1:&#10;    value: ami-531a4c3c&#10;  sa-east-1:&#10;    value: ami-84175ae8&#10;  cn-north-1:&#10;    value: ami-cb19c4a6&#10;  us-gov-west-1:&#10;    value: ami-56f87137" description="Amazon Linux AMI 2017.09.1 was released on 2018-01-17" toReformat="true" toShortenFQNames="true">
        <context>
            <option name="TYPEFORMATION" value="true" />
        </context>
    </template>
</templateSet>
